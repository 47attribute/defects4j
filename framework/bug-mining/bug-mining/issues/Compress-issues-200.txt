<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Sat Mar 24 03:58:03 UTC 2018

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+Compress+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="200" end="246" total="246"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[COMPRESS-80] wrong checksum for maven artifacts in repository</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-80</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The central repository contains wrong checksums for the compress-1.0 artifacts. This will cause many company repositories to ignore these artifacts. The following is logged when doing for examle mvn dependency:tree on tika trunk:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; *** CHECKSUM FAILED - Checksum failed on download: local = &apos;325980a09dbbd0c108ece8e7733b462b00e6f2a8&apos;; remote&lt;br/&gt;
= &apos;commons-compress-1.0.pom:&apos; - RETRYING&lt;br/&gt;
Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/commons/commons-compress/1.0/commons-compress-1.0.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/commons/commons-compress/1.0/commons-compress-1.0.pom&lt;/a&gt;&lt;br/&gt;
7K downloaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; *** CHECKSUM FAILED - Checksum failed on download: local = &apos;325980a09dbbd0c108ece8e7733b462b00e6f2a8&apos;; remote&lt;br/&gt;
= &apos;commons-compress-1.0.pom:&apos; - IGNORING&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; snapshot org.apache.tika:tika-core:0.4-SNAPSHOT: checking for updates from libs-snapshots&lt;br/&gt;
Downloading: &lt;a href=&quot;http://[company&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://[company&lt;/a&gt; repo]/libs-releases/org/apache/commons/commons-compress/1.0/commons-compress-1.0.jar&lt;/p&gt;

&lt;p&gt;Downloading: &lt;a href=&quot;http://[company&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://[company&lt;/a&gt; repo]/ext-releases/org/apache/commons/commons-compress/1.0/commons-compress-1.0.jar&lt;br/&gt;
Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/commons/commons-compress/1.0/commons-compress-1.0.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/commons/commons-compress/1.0/commons-compress-1.0.jar&lt;/a&gt;&lt;br/&gt;
140K downloaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; *** CHECKSUM FAILED - Checksum failed on download: local = &apos;995ae384a0b1e2c66269e6bc5198db8561fb45a2&apos;; remote&lt;br/&gt;
= &apos;commons-compress-1.0.jar:&apos; - RETRYING&lt;br/&gt;
Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/commons/commons-compress/1.0/commons-compress-1.0.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/commons/commons-compress/1.0/commons-compress-1.0.jar&lt;/a&gt;&lt;br/&gt;
140K downloaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; *** CHECKSUM FAILED - Checksum failed on download: local = &apos;995ae384a0b1e2c66269e6bc5198db8561fb45a2&apos;; remote&lt;br/&gt;
= &apos;commons-compress-1.0.jar:&apos; - IGNORING&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429069">COMPRESS-80</key>
            <summary>wrong checksum for maven artifacts in repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="d.de.wit">Daan de Wit</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jun 2009 08:25:04 +0000</created>
                <updated>Mon, 5 Apr 2010 22:24:18 +0000</updated>
                            <resolved>Fri, 10 Jul 2009 21:35:16 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12725535" author="cgrobmeier" created="Tue, 30 Jun 2009 09:12:34 +0000"  >&lt;p&gt;This script checks MD5 on the dist directories, here the checksums looks good:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~henkp/checker/md5.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~henkp/checker/md5.html&lt;/a&gt; &lt;br/&gt;
(this actually works for commons compress too)&lt;/p&gt;

&lt;p&gt;Is this a problem with sync to m1 repo?&lt;/p&gt;
</comment>
                            <comment id="12725536" author="cgrobmeier" created="Tue, 30 Jun 2009 09:14:24 +0000"  >&lt;p&gt;Just saw, that the MD5 checksum on m1 repo is different to the dist folders. This is cause, md5 was wrong and infrastructure told me to regenerate. I did, but replication to m repo seems to fail. I&apos;ll ask the infra guy on it.&lt;/p&gt;</comment>
                            <comment id="12729835" author="cgrobmeier" created="Fri, 10 Jul 2009 21:35:16 +0000"  >&lt;p&gt;The MD5 and SHA1 files have been resynced - everything should work correctly  now.&lt;/p&gt;</comment>
                            <comment id="12835834" author="aaronkaplan" created="Fri, 19 Feb 2010 17:19:48 +0000"  >&lt;p&gt;The checksum for commons-compress-1.0.jar is ok, but those of commons-compress-1.0-sources.jar and commons-compress-1.0-javadoc.jar are still wrong.&lt;/p&gt;</comment>
                            <comment id="12853452" author="dlouzado" created="Mon, 5 Apr 2010 17:36:47 +0000"  >&lt;p&gt;The problem still persists, even for commons-compress-1.0.jar file. Here is my Artifactory log:&lt;/p&gt;

&lt;p&gt;org.artifactory.io.checksum.policy.ChecksumPolicyException: Checksum policy &apos;GEN_IF_ABSENT&apos; rejected the artifact &apos;commons-compress-1.0.jar&apos;. Checksums info: [ChecksumInfo&lt;/p&gt;
{type=MD5, original=&apos;commons-compress-1.0.jar:&apos;, actual=&apos;0bbe31402b267ec6f54e06edcd8f06cf&apos;}
&lt;p&gt;, ChecksumInfo&lt;/p&gt;
{type=SHA-1, original=&apos;commons-compress-1.0.jar:&apos;, actual=&apos;995ae384a0b1e2c66269e6bc5198db8561fb45a2&apos;}
&lt;p&gt;]&lt;/p&gt;</comment>
                            <comment id="12853567" author="sebb@apache.org" created="Mon, 5 Apr 2010 22:24:18 +0000"  >&lt;p&gt;The MD5 and SHA1 hashes &lt;b&gt;are&lt;/b&gt; OK, however the format of the files may perhaps be causing a problem.&lt;/p&gt;

&lt;p&gt;For example, commons-compress-1.0.jar.md5 contains:&lt;/p&gt;

&lt;p&gt;commons-compress-1.0.jar: 0B BE 31 40 2B 26 7E C6  F5 4E 06 ED CD 8F 06 CF&lt;/p&gt;

&lt;p&gt;A more usual format is either&lt;/p&gt;

&lt;p&gt;0BBE31402B267EC6F54E06EDCD8F06CF&lt;br/&gt;
or&lt;br/&gt;
0BBE31402B267EC6F54E06EDCD8F06CF *commons-compress-1.0.jar&lt;/p&gt;

&lt;p&gt;Unfortunately, the error message from Artifactory does not say what hash it detected so it&apos;s difficult to know if this is the case.&lt;/p&gt;

&lt;p&gt;If you are able to test against Artifactory a local repo, perhaps you could try reformatting the md5 to see if that fixes the problem?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Jun 2009 09:12:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169916</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-75] ZipArchiveInputStream does not show location in file where a problem occurred</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-75</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-62&quot; title=&quot;Need many more test cases to check that can read &amp;quot;real&amp;quot; archives&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-62&quot;&gt;&lt;del&gt;COMPRESS-62&lt;/del&gt;&lt;/a&gt; - if ExtraFieldUtils.parse() detects an error, it only shows the offset within the local buffer, which is fairly useless in tracking down a problem.&lt;/p&gt;

&lt;p&gt;Somehow the current location in the file needs to be determined and added to the Exception message.&lt;/p&gt;

&lt;p&gt;The count/bytesRead field would help, but that actually points to the next available byte, i.e. after the problem area.&lt;br/&gt;
Also, the internal data may have been expanded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427108">COMPRESS-75</key>
            <summary>ZipArchiveInputStream does not show location in file where a problem occurred</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jun 2009 11:12:41 +0000</created>
                <updated>Mon, 31 May 2010 10:07:06 +0000</updated>
                            <resolved>Mon, 31 May 2010 10:07:06 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12832950" author="bodewig" created="Fri, 12 Feb 2010 11:12:26 +0000"  >&lt;p&gt;With svn revision 909358 you&apos;ll get the name of the entry that is causing the problem.  I&apos;m not sure whether this is enough or if you really want the exact byte position.&lt;/p&gt;</comment>
                            <comment id="12864194" author="jukkaz" created="Wed, 5 May 2010 06:41:15 +0000"  >&lt;p&gt;Is there anything else we need to do for this?&lt;/p&gt;</comment>
                            <comment id="12873607" author="cgrobmeier" created="Mon, 31 May 2010 10:07:06 +0000"  >&lt;p&gt;As agreed on the ml: fixed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12419693">COMPRESS-62</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Feb 2010 11:12:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-74] ZipArchiveInputStream fails to update count of bytes read</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-74</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;ZipArchiveInputStream fails to call count() in some cases where it reads (or puts back) data from the input stream.&lt;/p&gt;

&lt;p&gt;Not quite sure how to handle put-back yet, as a count of -1 is currently ignored, so how does one count a single byte that is put back?&lt;br/&gt;
Easy enough to hack this in - count(1);count(-2); - but that&apos;s rather messy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427106">COMPRESS-74</key>
            <summary>ZipArchiveInputStream fails to update count of bytes read</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jun 2009 11:04:43 +0000</created>
                <updated>Thu, 18 Feb 2010 16:11:35 +0000</updated>
                            <resolved>Thu, 18 Feb 2010 16:11:35 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12835264" author="bodewig" created="Thu, 18 Feb 2010 16:11:35 +0000"  >&lt;p&gt;fixed with svn revision 911467&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Feb 2010 16:11:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-73] ZipArchiveInputStream cannot handle some valid files</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-73</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-62&quot; title=&quot;Need many more test cases to check that can read &amp;quot;real&amp;quot; archives&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-62&quot;&gt;&lt;del&gt;COMPRESS-62&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427105">COMPRESS-73</key>
            <summary>ZipArchiveInputStream cannot handle some valid files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jun 2009 10:59:07 +0000</created>
                <updated>Tue, 16 Feb 2010 13:59:21 +0000</updated>
                            <resolved>Tue, 16 Feb 2010 13:59:21 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12832961" author="bodewig" created="Fri, 12 Feb 2010 11:38:34 +0000"  >&lt;p&gt;The specific zip file named zip-problem.zip attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-62&quot; title=&quot;Need many more test cases to check that can read &amp;quot;real&amp;quot; archives&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-62&quot;&gt;&lt;del&gt;COMPRESS-62&lt;/del&gt;&lt;/a&gt; contains entries with extra data that doesn&apos;t conform to the recommendations for extra fields from the &quot;standard&quot;.&lt;/p&gt;

&lt;p&gt;This is what InfoZIP&apos;s zip invoked with -Tv says (several similar messages):&lt;/p&gt;

&lt;p&gt;    testing: D_/Installers/installer 2005.1 rc1/icon-32x32.gif  bad extra-field entry:&lt;br/&gt;
      EF block length (12595 bytes) exceeds remaining EF data (6 bytes)&lt;/p&gt;

&lt;p&gt;and with svn revision 909366 you&apos;ll see a very similar exception message.&lt;/p&gt;

&lt;p&gt;In order to fix this issue, we&apos;d have to change the behavior from &quot;fail for &apos;broken&apos; extra fields&quot; to &quot;ignore &apos;broken&apos; extra fields&quot;.  I&apos;ll start a discussion on the dev list.&lt;/p&gt;</comment>
                            <comment id="12834219" author="bodewig" created="Tue, 16 Feb 2010 13:59:21 +0000"  >&lt;p&gt;fixed with svn revision 910519&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12419693">COMPRESS-62</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Feb 2010 11:38:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-71] IndexOutOfBoundsException in TarArchiveEntry constructor</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-71</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;Using TarArchiveEntry (File, String) throw IndexOutOfBoundsException&lt;/p&gt;</description>
                <environment>&lt;p&gt;Any&lt;/p&gt;</environment>
        <key id="12424506">COMPRESS-71</key>
            <summary>IndexOutOfBoundsException in TarArchiveEntry constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chatellier">Eric Chatellier</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 May 2009 09:03:22 +0000</created>
                <updated>Mon, 4 May 2009 09:15:42 +0000</updated>
                            <resolved>Mon, 4 May 2009 09:15:42 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="12705530" author="chatellier" created="Mon, 4 May 2009 09:04:50 +0000"  >&lt;p&gt;Patch that fix IndexOutOfBoundsException.&lt;/p&gt;</comment>
                            <comment id="12705534" author="cgrobmeier" created="Mon, 4 May 2009 09:15:42 +0000"  >&lt;p&gt;Patch applied!&lt;br/&gt;
Thanks very much!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12407136" name="TarArchiveEntry.patch" size="734" author="chatellier" created="Mon, 4 May 2009 09:04:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 4 May 2009 09:15:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110581</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-70] Unused field: ZipArchiveInputStream.useUnicodeExtraFields</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-70</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;ZipArchiveInputStream.useUnicodeExtraFields is currently unused. Decide if this field is necessary and how to use it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423915">COMPRESS-70</key>
            <summary>Unused field: ZipArchiveInputStream.useUnicodeExtraFields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bodewig">Stefan Bodewig</assignee>
                                    <reporter username="cgrobmeier">Christian Grobmeier</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2009 18:01:50 +0000</created>
                <updated>Tue, 28 Apr 2009 08:31:38 +0000</updated>
                            <resolved>Tue, 28 Apr 2009 08:31:38 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12703535" author="bodewig" created="Tue, 28 Apr 2009 08:31:38 +0000"  >&lt;p&gt;svn revision 769291&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Apr 2009 08:31:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tgqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-69] Inconsistent handling of BZ2-Header after redesign</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-69</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;I tried the current trunk of compress and tried the BZIP2-Streams. There are the following inconsitenceis now:&lt;br/&gt;
a) BZIP InputStream checks that the &quot;BZ&quot; header is available in the File (using this magicChar method)&lt;br/&gt;
b) BZIP OutputStream does not add the &quot;BZ&quot; header (it is commented out, saying that the caller does this)&lt;br/&gt;
c) The Javadocs of the input stream say, you should skip the header, which is wrong.&lt;br/&gt;
d) the tests do not find these errors, as the test only compressed a file, but does not try to decompress it or check its contents&lt;/p&gt;

&lt;p&gt;Before the redesign commit, the handling of headers was consistent (both streams used it). The BZ Headers should be added to the Streams, as this would be consistent with GZIP (where the headers are automatically added, too).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422689">COMPRESS-69</key>
            <summary>Inconsistent handling of BZ2-Header after redesign</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thetaphi">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2009 11:06:16 +0000</created>
                <updated>Mon, 13 Apr 2009 17:49:01 +0000</updated>
                            <resolved>Mon, 13 Apr 2009 17:40:28 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12698378" author="cgrobmeier" created="Mon, 13 Apr 2009 12:06:14 +0000"  >&lt;p&gt;I improved the testcase where the described behaviour can be seen. I also think BZ should be added at the OutputStream.&lt;br/&gt;
Thanks for reporting!&lt;/p&gt;</comment>
                            <comment id="12698405" author="cgrobmeier" created="Mon, 13 Apr 2009 14:56:51 +0000"  >&lt;p&gt;Fix is like following:&lt;/p&gt;

&lt;p&gt;comment in:&lt;br/&gt;
Line713: this.out.write(&apos;B&apos;);&lt;br/&gt;
Line724: this.out.write(&apos;Z&apos;);&lt;/p&gt;

&lt;p&gt;and update documentation. Just waiting for responses on the mailinglist, why this change has happened.&lt;/p&gt;</comment>
                            <comment id="12698408" author="thetaphi" created="Mon, 13 Apr 2009 15:04:57 +0000"  >&lt;p&gt;I would use the new method bsPutUByte(), see attached patch. The documentation is not updated. The test passes.&lt;/p&gt;</comment>
                            <comment id="12698412" author="cgrobmeier" created="Mon, 13 Apr 2009 15:22:23 +0000"  >&lt;p&gt;Patch applied, thanks Uwe. Docs also updated.&lt;br/&gt;
New revision: r764503&lt;/p&gt;</comment>
                            <comment id="12698413" author="thetaphi" created="Mon, 13 Apr 2009 15:25:09 +0000"  >&lt;p&gt;you forgot to enable the test again...&lt;/p&gt;</comment>
                            <comment id="12698434" author="thetaphi" created="Mon, 13 Apr 2009 16:47:58 +0000"  >&lt;p&gt;also the top level class comments contain still &quot;without headers&quot;. We are discussing this in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-1591&quot; title=&quot;Enable bzip compression in benchmark&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-1591&quot;&gt;&lt;del&gt;LUCENE-1591&lt;/del&gt;&lt;/a&gt; where we want to use commons-compress for the handling of the very large wikipedia bz2 dumps.&lt;/p&gt;</comment>
                            <comment id="12698437" author="thetaphi" created="Mon, 13 Apr 2009 16:53:44 +0000"  >&lt;p&gt;I reopen the issue to be sure, that the last two comments are seen.&lt;/p&gt;</comment>
                            <comment id="12698451" author="cgrobmeier" created="Mon, 13 Apr 2009 17:40:28 +0000"  >&lt;p&gt;Thanks again Uwe.&lt;br/&gt;
And thanks for bringing commons-compress into discussion. It&apos;s great to see that people start trying and using the lib.&lt;/p&gt;</comment>
                            <comment id="12698458" author="thetaphi" created="Mon, 13 Apr 2009 17:49:01 +0000"  >&lt;p&gt;Thanks, too. Apache TIKA is also waiting for version 1.0 to be released (&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-204&quot; title=&quot;Use commons-compress for parsing packages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-204&quot;&gt;&lt;del&gt;TIKA-204&lt;/del&gt;&lt;/a&gt;)! For Lucene, the snapshot is OK at the moment, as it is only for a module that is measuring indexing performance with very big source files that should decompressed on the fly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405324" name="COMPRESS-69.patch" size="1322" author="thetaphi" created="Mon, 13 Apr 2009 15:04:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Apr 2009 12:06:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-67] ZipArchiveInputStream fails to call setSize() when reading archives created by ZipArchiveOutputStream</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-67</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;ZipArchiveInputStream fails to call setSize() when reading archives created by ZipArchiveOutputStream&lt;/p&gt;

&lt;p&gt;I&apos;m not exactly sure where the problem is - looks to be something to do with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;getNextZipEntry(){
...
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!hasDataDescriptor) {
&lt;span class=&quot;code-comment&quot;&gt;// calls setSize()
&lt;/span&gt;} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&lt;span class=&quot;code-comment&quot;&gt;// does not call setSize()
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe the DataDescriptor is not being processed, or maybe there is no descriptor and the flag is set wrongly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12421607">COMPRESS-67</key>
            <summary>ZipArchiveInputStream fails to call setSize() when reading archives created by ZipArchiveOutputStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Mar 2009 01:16:28 +0000</created>
                <updated>Fri, 8 Mar 2013 05:06:07 +0000</updated>
                            <resolved>Tue, 31 Mar 2009 10:37:56 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12694028" author="bodewig" created="Tue, 31 Mar 2009 09:17:02 +0000"  >&lt;p&gt;ZIP has a feature that is called the data descriptor.&lt;/p&gt;

&lt;p&gt;When your entry uses the DEFLATE method, you don&apos;t have to provide the size (and CRC) information inside the local file header because the compression algorithm itself will signal when you&apos;ve read all data.  In that case the size information will be inside the ZIP after the entry&apos;s data (and you can check whether the size/CRC matched what you&apos;ve read).&lt;/p&gt;

&lt;p&gt;Unfortunately this means you have to read the full entry in order to provide the size information, which we cannot really do in a stream (without buffering and running the risk of causing OOM exceptions for really big entries).  ZipFile can and does provide the correct information.&lt;/p&gt;

&lt;p&gt;I don&apos;t see any way to fix this, but we certainly have to document it - and list it as another reason prefer ZipFile over ZipArchiveInputStream.&lt;/p&gt;

&lt;p&gt;ZipArchiveInputStream will set the correct size and CRC information inside the LFH when it knows it is writing to a file, but it will also use the data descriptor so ZipArchiveInputStream won&apos;t trust that information.&lt;/p&gt;</comment>
                            <comment id="12694050" author="sebb@apache.org" created="Tue, 31 Mar 2009 10:19:36 +0000"  >&lt;p&gt;OK, thanks - I see. &lt;/p&gt;

&lt;p&gt;I&apos;ll update the Javadoc and test cases to treat -1 as file size unknown.&lt;/p&gt;</comment>
                            <comment id="12694057" author="sebb@apache.org" created="Tue, 31 Mar 2009 10:37:56 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=760389&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=760389&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
Javadoc&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=760392&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=760392&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
Javadoc&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 Mar 2009 09:17:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110577</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b43j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-65] TarArchiveInputStream.matches() only works for tar archives whose first file is &quot;test1.xml&quot;</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-65</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The tar header format does not have a &quot;magic&quot; number at the start, so in general it is impossible to tell if an input file is a tar file without reading a lot more data.&lt;/p&gt;

&lt;p&gt;The current match() implementation assumes the first 8 bytes contain  &quot;test1.xml&quot;, which is obviously a hack for testing purposes.&lt;/p&gt;

&lt;p&gt;If more bytes are read from the input, it might be possible to implement a working match() method:&lt;/p&gt;

&lt;p&gt;The file must be at least 512 bytes long.&lt;/p&gt;

&lt;p&gt;The following offsets have contents that could be checked:&lt;/p&gt;

&lt;p&gt;Offset   len&lt;br/&gt;
148 	8 	Checksum for header block&lt;br/&gt;
156 	1 	Link indicator (file type) - &apos;0&apos;-&apos;6&apos; or null&lt;/p&gt;

&lt;p&gt;Other possible checks are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;numeric fields must be octal&lt;/li&gt;
	&lt;li&gt;filename fields must end in trailing nulls (but can a filename contain a null?)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12421503">COMPRESS-65</key>
            <summary>TarArchiveInputStream.matches() only works for tar archives whose first file is &quot;test1.xml&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Mar 2009 17:46:21 +0000</created>
                <updated>Fri, 8 Mar 2013 05:09:59 +0000</updated>
                            <resolved>Thu, 2 Apr 2009 23:36:07 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12695168" author="sebb@apache.org" created="Thu, 2 Apr 2009 23:36:07 +0000"  >&lt;p&gt;The match method now works for Posix and GNU.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110575</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b43r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62777</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-64] Are the public finish() methods ArchiveOutputStream implementations necessary and safe?</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-64</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Some of the ArchiveOutputStream implementations have public finish() methods. These are currently only called from the close() methods.&lt;/p&gt;

&lt;p&gt;Seems to me that there is no need to allow the finish() methods to be called externally, and the user can corrupt the output if they do.&lt;/p&gt;

&lt;p&gt;Surely the close() method is all that is needed?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12421477">COMPRESS-64</key>
            <summary>Are the public finish() methods ArchiveOutputStream implementations necessary and safe?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Mar 2009 14:12:07 +0000</created>
                <updated>Thu, 23 Apr 2009 05:34:24 +0000</updated>
                            <resolved>Thu, 23 Apr 2009 05:34:24 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12694029" author="bodewig" created="Tue, 31 Mar 2009 09:22:49 +0000"  >&lt;p&gt;see &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-42&quot; title=&quot;[compress] bzip2 - implement flush()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-42&quot;&gt;&lt;del&gt;COMPRESS-42&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;flush comes in handy when you are writing to a network stream, for example.&lt;/p&gt;

&lt;p&gt;Whether our implementations are really safe is a totally different question 8-)&lt;/p&gt;</comment>
                            <comment id="12694048" author="sebb@apache.org" created="Tue, 31 Mar 2009 10:15:00 +0000"  >&lt;p&gt;I now think that the finish method may be useful for some archive types which allow arbitrary data to be added at the end of the archive.&lt;/p&gt;

&lt;p&gt;However, I think the method should throw an Exception if the user tries to call it twice.&lt;/p&gt;</comment>
                            <comment id="12697845" author="cgrobmeier" created="Fri, 10 Apr 2009 15:49:44 +0000"  >&lt;p&gt;Can you explain a bit more please?&lt;/p&gt;

&lt;p&gt;As far as I could see in the code at most times finish() should be called flush().&lt;br/&gt;
In ZipOutputStream finish() additionally writes the central directory end. If one would write after the CD, wouldn&apos;t the Zipfile be corrupted?&lt;/p&gt;

&lt;p&gt;Same goes for the other archives. Wouldn&apos;t writing arbitary data which is not an Entry corrupt the archive?&lt;/p&gt;

&lt;p&gt;However, behaviour of finish() differs from Zip to the other streams. Ar doesn&apos;t have a finish() method. Jar behaves like Zip (of course).&lt;/p&gt;</comment>
                            <comment id="12698997" author="sebb@apache.org" created="Wed, 15 Apr 2009 00:12:02 +0000"  >&lt;p&gt;AIUI, the finish() method is used to ensure that any required trailers etc are written to the output stream, i.e. may add data to the stream.&lt;br/&gt;
This is different from flush() which ensures that the output stream is written to disk (etc.), but does not add any data to the output stream.&lt;/p&gt;

&lt;p&gt;AR - no finish() method&lt;/p&gt;

&lt;p&gt;CPIO - calls closeArchiveEntry() if necessary and writes the trailer record&lt;/p&gt;

&lt;p&gt;TAR - writes the trailer&lt;/p&gt;

&lt;p&gt;ZIP/JAR - calls closeArchiveEntry() if necessary and writes the CFH and CD end.&lt;/p&gt;

&lt;p&gt;This is inconsistent - TAR does not call closeArchiveEntry(), though this may be needed.&lt;/p&gt;

&lt;p&gt;Seems to me that the user should be required to always call closeArchiveEntry() once for each putArchiveEntry(), i.e. finish() should only do whatever processing is needed at the end of an archive.  The finish() method should throw an Exception if the user forgets to close the entry, rather than silently tidying up for the user.&lt;/p&gt;

&lt;p&gt;The normal sequence of calls is:&lt;br/&gt;
+ create AOS class&lt;br/&gt;
+ write SFX header (optional, Zip only)&lt;br/&gt;
+ repeat as needed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;- putArchiveEntry()&lt;/li&gt;
	&lt;li&gt;- write() entry data&lt;/li&gt;
	&lt;li&gt;- closeArchiveEntry()&lt;br/&gt;
+ finish()&lt;br/&gt;
+ write additional data if format supports it (optional)&lt;br/&gt;
+ close()&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This could be enforced by the ArchiveOutputStream class&lt;/p&gt;</comment>
                            <comment id="12699072" author="cgrobmeier" created="Wed, 15 Apr 2009 06:04:36 +0000"  >&lt;p&gt;I think this should be done before 1.0.&lt;/p&gt;</comment>
                            <comment id="12699145" author="sebb@apache.org" created="Wed, 15 Apr 2009 10:40:18 +0000"  >&lt;p&gt;Agreed - it may involve API changes.&lt;/p&gt;</comment>
                            <comment id="12701408" author="cgrobmeier" created="Wed, 22 Apr 2009 06:30:32 +0000"  >&lt;p&gt;The behaviour should now be consistent. &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;finish() doesn&apos;t call closeArchiveEntry() if necessary&lt;/li&gt;
	&lt;li&gt;close() doesn&apos;t call finish() if necessary.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Everything is done in the subclasses. We may move the &quot;is entry open&quot; check to the super classes as suggested. Additionally a check for &quot;is finished&quot; should be done there. At the moment its easy to close an archive without calling finish(), which leads to corrupt archives. An exception should be thrown like in finish, if an entry is not closed.&lt;/p&gt;
</comment>
                            <comment id="12701813" author="cgrobmeier" created="Thu, 23 Apr 2009 05:34:24 +0000"  >&lt;p&gt;I don&apos;t see an elegant way to enforce this in the abstract class without increasing complexity. I think subclasses should care themself to implement that function. Since behaviour is consistent, Issue is resolved. If some think that the functionality should go to the abstract classes, please reopen and discuss your proposal on the dev list &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 Mar 2009 09:22:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tftr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-63] String#getBytes() is platform dependent</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-63</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Many methods use the getBytes() method on Strings, however getBytes() uses the platform default encoding, which may not be suitable.&lt;/p&gt;

&lt;p&gt;It&apos;s also a bit inefficient to keep encoding the same strings.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12419694">COMPRESS-63</key>
            <summary>String#getBytes() is platform dependent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Mar 2009 03:13:53 +0000</created>
                <updated>Thu, 23 Apr 2009 05:57:28 +0000</updated>
                            <resolved>Thu, 23 Apr 2009 05:57:28 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12693424" author="sebb@apache.org" created="Sat, 28 Mar 2009 10:39:04 +0000"  >&lt;p&gt;The method java.lang.String.String(byte[] bytes) also uses the default characterset, so may cause different results on different platforms.&lt;/p&gt;</comment>
                            <comment id="12695169" author="sebb@apache.org" created="Thu, 2 Apr 2009 23:39:44 +0000"  >&lt;p&gt;Added ArchiveUtils.matchAsciiBuffer(String, byte[]) method which uses the &quot;ASCII&quot; charset to compare strings with bytes.&lt;/p&gt;

&lt;p&gt;Still more fixes to apply.&lt;/p&gt;</comment>
                            <comment id="12698515" author="cgrobmeier" created="Mon, 13 Apr 2009 19:38:18 +0000"  >&lt;p&gt;Ar uses your util method, all the other InputStreams in the archiver package seem to allready use ASCII comparision.&lt;br/&gt;
Which fixes do you mean?&lt;/p&gt;</comment>
                            <comment id="12698727" author="sebb@apache.org" created="Tue, 14 Apr 2009 10:18:56 +0000"  >&lt;p&gt;For example: &lt;/p&gt;

&lt;p&gt;final byte[] expected = ArArchiveEntry.HEADER.getBytes();&lt;br/&gt;
and&lt;br/&gt;
final byte[] expected = ArArchiveEntry.TRAILER.getBytes();&lt;/p&gt;

&lt;p&gt;both depend on the default encoding.&lt;/p&gt;

&lt;p&gt;For &quot;magic&quot; strings - such as HEADER and TRAILER - I think we can assume that ASCII is OK to use.&lt;/p&gt;

&lt;p&gt;If there are any other conversions to/from String, then it may depend on the archive type or indeed the archive itself if it allows different encodings.&lt;br/&gt;
These need to be fixed and documented.&lt;/p&gt;

&lt;p&gt;Note that the Turkish character set in particular has some unexpected features, e.g. upper case &quot;i&quot; has a special character which is not the same as &quot;I&quot;.&lt;/p&gt;

&lt;p&gt;==&lt;/p&gt;

&lt;p&gt;As to repeated encoding of the same strings - byte arrays are tricky to protect against malicious/accidental changes, so it may be best to ignore the overhead of the repeated conversions for now.&lt;/p&gt;</comment>
                            <comment id="12698980" author="sebb@apache.org" created="Tue, 14 Apr 2009 23:24:20 +0000"  >&lt;p&gt;Added ArchiveUtils.toAsciiString() and .toAsciiBytes() methods.&lt;/p&gt;

&lt;p&gt;Also fixed up code where possible:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=764999&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=764999&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-63&quot; title=&quot;String#getBytes() is platform dependent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-63&quot;&gt;&lt;del&gt;COMPRESS-63&lt;/del&gt;&lt;/a&gt; - replace dependency on default charset with ASCII where appropriate;&lt;br/&gt;
add TODOs where the required charset is not yet clear.&lt;/p&gt;</comment>
                            <comment id="12701816" author="cgrobmeier" created="Thu, 23 Apr 2009 05:57:28 +0000"  >&lt;p&gt;I fixed the last TODOs in CPIO, AR and TAR. Evevything was ASCII.&lt;br/&gt;
No TODOs left, issue resolved &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Apr 2009 19:38:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tftb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-60] ChangeSet does not synchronise whilst using the Iterator</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-60</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;ChangeSet does not synchronize whilst using the Iterator on the Set &quot;changes&quot; which is a synchronizedSet.&lt;/p&gt;

&lt;p&gt;The Javadoc for Collections.synchronizedSet says: &quot;&lt;br/&gt;
...&lt;br/&gt;
It is imperative that the user manually synchronize on the returned set when iterating over it:&lt;br/&gt;
...&lt;br/&gt;
Failure to follow this advice may result in non-deterministic behavior.&quot;&lt;/p&gt;

&lt;p&gt;This affects the add() and perfom() methods.&lt;/p&gt;

&lt;p&gt;Also, the asSet() method returns a reference to the Set.  This method does not seem to be used at present, so perhaps could be removed.&lt;br/&gt;
Otherwise, it should either return a copy of the set, or the Javadoc should point out that any iteration over the set must synchronize on the set.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12419688">COMPRESS-60</key>
            <summary>ChangeSet does not synchronise whilst using the Iterator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cgrobmeier">Christian Grobmeier</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2009 23:54:47 +0000</created>
                <updated>Thu, 9 Apr 2009 11:17:27 +0000</updated>
                            <resolved>Thu, 9 Apr 2009 11:17:27 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12693434" author="cgrobmeier" created="Sat, 28 Mar 2009 13:03:36 +0000"  >&lt;p&gt;Reading this, I would think that we should remove asSet() to avoid those conflicts.&lt;br/&gt;
I cannot think about a usecase where a user should iterate over the set he just created.&lt;/p&gt;

&lt;p&gt;Sebb, as a threading guru, I am asking myself why I used a synchronized set. When removing asSet(),&lt;br/&gt;
is this necessary? I think not.&lt;/p&gt;
</comment>
                            <comment id="12693438" author="sebb@apache.org" created="Sat, 28 Mar 2009 13:51:16 +0000"  >&lt;p&gt;Depends on whether you want to make the class thread-safe or not.&lt;/p&gt;

&lt;p&gt;Would one ever want to create the same ChangeSet and apply it to multiple archives in multiple threads?&lt;br/&gt;
Probably not, and even if the class were thread-safe, sharing the same set of changes would not work.&lt;br/&gt;
The first thread to perform() the ChangeSet would remove one or more of the entries.&lt;/p&gt;

&lt;p&gt;In fact, ChangeSet is not even re-usable in a single thread, as perform empties the list of changes.&lt;/p&gt;

&lt;p&gt;There might be a use-case for making it re-usable - i.e. perform the same changes on multiple archives.&lt;/p&gt;

&lt;p&gt;In which case, perfom() should operate on a copy of the Set.&lt;/p&gt;

&lt;p&gt;It should then be possible to use the class in multiple threads, so long as:&lt;br/&gt;
+ other threads only used perform()&lt;br/&gt;
+ the creator thread did not change the instance after calling start() on the worker threads.&lt;/p&gt;

&lt;p&gt;Or I suppose one could create a new thread-safe (perhaps immutable)  &quot;performer&quot; class once a change set had been set up.&lt;br/&gt;
I.e. separate the creation of the ChangeSet from its application.&lt;/p&gt;</comment>
                            <comment id="12697475" author="cgrobmeier" created="Thu, 9 Apr 2009 11:17:27 +0000"  >&lt;p&gt;Issue resolved with: r763604&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Extracted immutable Performer class&lt;/li&gt;
	&lt;li&gt;added some notes on thread safety&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 28 Mar 2009 13:03:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tflr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-55] CpioArchiveEntry ignores invalid modes</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-55</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;CpioArchiveEntry has the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
            &lt;span class=&quot;code-comment&quot;&gt;// FIXME: testCpioUnarchive fails &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; I change the line to
&lt;/span&gt;            &lt;span class=&quot;code-comment&quot;&gt;// actually &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; the excpetion
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unknown mode (full mode: &quot;&lt;/span&gt; + mode
                    + &lt;span class=&quot;code-quote&quot;&gt;&quot;, masked mode: &quot;&lt;/span&gt; + (mode &amp;amp; S_IFMT));
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As the comment says, rejecting invalid modes causes test failures.&lt;/p&gt;

&lt;p&gt;These appear to be caused by the code&lt;/p&gt;

{bq}
&lt;p&gt;        this.cpioEntry.setMode(0);&lt;/p&gt;

&lt;p&gt;in the method CpioArchiveOutputStream.finish()&lt;/p&gt;

&lt;p&gt;Is a mode of 0 allowed? If so, then setMode needs to allow it, otherwise the method call needs to change to something else.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12419488">COMPRESS-55</key>
            <summary>CpioArchiveEntry ignores invalid modes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Mar 2009 13:14:23 +0000</created>
                <updated>Fri, 8 Mar 2013 05:09:58 +0000</updated>
                            <resolved>Tue, 31 Mar 2009 19:17:17 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12689471" author="sebb@apache.org" created="Thu, 26 Mar 2009 13:19:40 +0000"  >&lt;p&gt;CpioArchiveInputStream.readNewEntry() can also set the mode to 0  when tested by CpioArchiveInputStreamTest.testCpioUnarchive(). &lt;/p&gt;</comment>
                            <comment id="12689474" author="sebb@apache.org" created="Thu, 26 Mar 2009 13:30:37 +0000"  >&lt;p&gt;Just tried a test with mode 0 allowed.&lt;br/&gt;
One test fails:&lt;/p&gt;

&lt;p&gt;Unknown mode (full mode: 4294967295, masked mode: 61440&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveEntry.setMode(CpioArchiveEntry.java:605)&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.readNewEntry(CpioArchiveInputStream.java:324)&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.getNextCPIOEntry(CpioArchiveInputStream.java:182)&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.getNextEntry(CpioArchiveInputStream.java:421)&lt;br/&gt;
	at org.apache.commons.compress.archivers.CpioTestCase.testCpioUnarchive(CpioTestCase.java:82)&lt;/p&gt;

&lt;p&gt;4294967295 = 0xFFFFFFFF&lt;br/&gt;
61440 = 0xF000&lt;/p&gt;

&lt;p&gt;I think this may be due to problems with EOF handling, because I don&apos;t think the test file has that data in it.&lt;/p&gt;</comment>
                            <comment id="12689501" author="sebb@apache.org" created="Thu, 26 Mar 2009 14:44:00 +0000"  >&lt;p&gt;Further investigation shows that the test file &lt;b&gt;does&lt;/b&gt; have FFFFFFFF in it.&lt;/p&gt;

&lt;p&gt;The file (bla.cpio) is a temporary archive created by the test case.&lt;/p&gt;

&lt;p&gt;It looks like the problem may be that the CpioArchiveEntry class initialises the mode to -1.&lt;/p&gt;

&lt;p&gt;I can get the test cases to pass by:&lt;/p&gt;

&lt;p&gt;1) Allowing setMode(0)&lt;br/&gt;
2) defaulting mode to 0 rather than -1.&lt;/p&gt;

&lt;p&gt;But I&apos;m not sure that this is the correct approach - does 0 make sense as a mode? &lt;br/&gt;
Perhaps only for the trailer, in which case using a default of 0 would make more sense.&lt;br/&gt;
The finish() method would not need to call setMode(0) if the default were 0.&lt;br/&gt;
However, when reading a trailer the mode will be read as 0.&lt;/p&gt;

&lt;p&gt;I suppose it might be worth throwing an Exception if the mode is zero but the record is not the trailer record.&lt;/p&gt;

&lt;p&gt;Also, I suspect the &quot;mtime&quot; field should be initialised to 0 rather than -1.&lt;/p&gt;</comment>
                            <comment id="12689551" author="cgrobmeier" created="Thu, 26 Mar 2009 17:00:40 +0000"  >&lt;p&gt;Here is the original dcos for the mode:&lt;/p&gt;

&lt;p&gt; The mode specifies both the regular permissions and the file  type.  It consists of several bit fields as follows:&lt;br/&gt;
	     0170000  This masks the file type bits.&lt;br/&gt;
	     0140000  File type value for sockets.&lt;br/&gt;
	     0120000  File type value for symbolic links.  For symbolic links, the link body is stored as file data.&lt;br/&gt;
	     0100000  File type value for regular files.&lt;br/&gt;
	     0060000  File type value for block special devices.&lt;br/&gt;
	     0040000  File type value for directories.&lt;br/&gt;
	     0020000  File type value for character special devices.&lt;br/&gt;
	     0010000  File type value for named pipes or FIFOs.&lt;br/&gt;
	     0004000  SUID bit.&lt;br/&gt;
	     0002000  SGID bit.&lt;br/&gt;
	     0001000  Sticky bit.  On some systems, this modifies the behavior of executables and/or directories.&lt;br/&gt;
	     0000777  The lower 9 bits specify read/write/execute permissions for world, group, and user following standard POSIX con-&lt;br/&gt;
		      ventions.&lt;/p&gt;

&lt;p&gt;This tells me, that 0 is not correct since it is not described in the above. But I am unsure about this. If defaulting, I would do something for regular files and 777  or something like that&lt;/p&gt;</comment>
                            <comment id="12689605" author="sebb@apache.org" created="Thu, 26 Mar 2009 19:00:19 +0000"  >&lt;p&gt;I&apos;ve just created some test files on the people host (7.1-STABLE FreeBSD).&lt;/p&gt;

&lt;p&gt;In the case of the &apos;bin&apos; &apos;newc&apos; and &apos;crc&apos; formats, the TRAILER record has a link count of 1, namesize 10, and all the other fields are 0.&lt;/p&gt;

&lt;p&gt;So I think the defaults in the CpioArchiveEntry should also be set to 0.&lt;/p&gt;</comment>
                            <comment id="12689636" author="sebb@apache.org" created="Thu, 26 Mar 2009 20:34:20 +0000"  >&lt;p&gt;I&apos;ve changed the default header values to zero:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=758837&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=758837&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
The default value for fileFormat must be chosen so checkNewFormat() and checkOldFormat() both fail; -1 is not suitable.&lt;br/&gt;
Initialise other fields to zero as that is what the trailer needs.&lt;br/&gt;
Update Javadoc&lt;/p&gt;

&lt;p&gt;The output stream no longer needs to set the mode:&lt;br/&gt;
URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=758838&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=758838&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
Mode defaults to zero, so no need to set it.&lt;/p&gt;</comment>
                            <comment id="12689647" author="sebb@apache.org" created="Thu, 26 Mar 2009 20:49:44 +0000"  >&lt;p&gt;Fixed for Input as well:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=758846&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=758846&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-55&quot; title=&quot;CpioArchiveEntry ignores invalid modes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-55&quot;&gt;&lt;del&gt;COMPRESS-55&lt;/del&gt;&lt;/a&gt; Don&apos;t attempt to set mode zero. Print error if mode 0 found not in trailer.&lt;/p&gt;

&lt;p&gt;Just need to decide if the stacktrace should become a thrown Exception.&lt;/p&gt;</comment>
                            <comment id="12694216" author="sebb@apache.org" created="Tue, 31 Mar 2009 19:17:17 +0000"  >&lt;p&gt;Now throws an error for invalid mode&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Mar 2009 17:00:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b43z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62778</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-33] [compress] TarInputStream.read() returns wrong values</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-33</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;There is a bug in the read() method of sandbox&apos; compress TarInputStream, which&lt;br/&gt;
will be triggered only when bytes greater than 127 are being read because of a&lt;br/&gt;
bad implicit cast from &quot;byte&quot; to &quot;int&quot; (values &amp;gt;= 128 result in negative int&lt;br/&gt;
values, because &quot;byte&quot; is signed). I discovered this when applying a&lt;br/&gt;
DataInputStream, which makes heavy use of InputStream.read().&lt;/p&gt;

&lt;p&gt;Possible Fix:&lt;br/&gt;
Change the &quot;return&quot; line from the TarInputStream.read() function from&lt;br/&gt;
  return (int)m_oneBuf[ 0 ];&lt;br/&gt;
to&lt;br/&gt;
  return (int) (m_oneBuf&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &amp;amp; 0xFF);&lt;/p&gt;


&lt;p&gt;Best regards,&lt;br/&gt;
Christian&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341930">COMPRESS-33</key>
            <summary>[compress] TarInputStream.read() returns wrong values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ck@newsclub.de">Christian Kohlsch&#252;tter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Dec 2004 18:30:18 +0000</created>
                <updated>Sun, 18 Apr 2010 09:22:49 +0000</updated>
                            <resolved>Sun, 18 Apr 2010 09:22:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408305" author="gudnabrsam@yahoo.com" created="Wed, 4 Jan 2006 07:01:56 +0000"  >&lt;p&gt;more discussion on 36243, mark this as the duplicate&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 36243 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12342489">COMPRESS-23</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Jan 2006 07:01:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110552</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uo8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-32] AbstractTestCase.createArchive method appears to use incorrect file size - cut and paste error?</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-32</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The createArchive() method has the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ZipArchiveEntry entry = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ZipArchiveEntry(&lt;span class=&quot;code-quote&quot;&gt;&quot;testdata/test1.xml&quot;&lt;/span&gt;);
entry.setSize(file1.length());
out.putArchiveEntry(entry);
IOUtils.copy(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream(file1), out);
out.closeArchiveEntry();

entry = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ZipArchiveEntry(&lt;span class=&quot;code-quote&quot;&gt;&quot;testdata/test2.xml&quot;&lt;/span&gt;);
entry.setSize(file1.length());     &lt;span class=&quot;code-comment&quot;&gt;// &amp;lt;== should &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; be file2.length?
&lt;/span&gt;out.putArchiveEntry(entry);
IOUtils.copy(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream(file2), out);
out.closeArchiveEntry();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This looks a bit odd, as the setSize() parameter does not agree with the copy() parameter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416105">COMPRESS-32</key>
            <summary>AbstractTestCase.createArchive method appears to use incorrect file size - cut and paste error?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2009 13:45:45 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:54 +0000</updated>
                            <resolved>Fri, 13 Mar 2009 05:27:18 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12681182" author="cgrobmeier" created="Thu, 12 Mar 2009 06:35:17 +0000"  >&lt;p&gt;Yes, definitly copy paste error.&lt;br/&gt;
Patch solves this. Junit still runs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12681614" author="bodewig" created="Fri, 13 Mar 2009 05:27:18 +0000"  >&lt;p&gt;svn revision 753123&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402019" name="patch-copypasteerror.txt" size="4437" author="cgrobmeier" created="Thu, 12 Mar 2009 06:35:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Mar 2009 06:35:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tglr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-31] TarArchiveEntry uses bad size for directories in the File-arg constructor</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-31</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The File-arg constructor sets the size to File.length() which may be different from 0 for directories on Unix-like systems.&lt;/p&gt;

&lt;p&gt;This leads to archives with entries that claim to have a length of say 4096 bytes but in fact don&apos;t contain any data at all, rendering the created archive invalid.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417128">COMPRESS-31</key>
            <summary>TarArchiveEntry uses bad size for directories in the File-arg constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bodewig">Stefan Bodewig</assignee>
                                    <reporter username="bodewig">Stefan Bodewig</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2009 04:34:26 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:52 +0000</updated>
                            <resolved>Wed, 18 Mar 2009 04:39:11 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12682911" author="bodewig" created="Wed, 18 Mar 2009 04:39:11 +0000"  >&lt;p&gt;svn revision 755472&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tflb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-30] [compress][PATCH] fix for bzip2 example compress/uncompress utilities</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-30</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Hi There,&lt;/p&gt;

&lt;p&gt;Hope all is going well.&lt;/p&gt;

&lt;p&gt;The commons sandbox compress bzip2 example compress and uncompress utilities are&lt;br/&gt;
currently broken as the CBzip2Input/Output/Stream classes expect the leading 2&lt;br/&gt;
bytes of the BZip2 file to be stripped/added outside of the CBZip2xxxStream classes.&lt;/p&gt;

&lt;p&gt;This currently means the compress example creates a data file bzip2 can&apos;t&lt;br/&gt;
understand and the uncompress example throws a null pointer exception.&lt;/p&gt;

&lt;p&gt;The attached patch fixes this.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Marcus&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341615">COMPRESS-30</key>
            <summary>[compress][PATCH] fix for bzip2 example compress/uncompress utilities</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="crafterm@apache.org">Marcus Crafter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Aug 2004 00:05:25 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:28 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 13:37:43 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12407161" author="crafterm@apache.org" created="Fri, 6 Aug 2004 00:06:07 +0000"  >&lt;p&gt;Created an attachment (id=12346)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; patch to fix commons compress bzip2 example utilities&lt;/p&gt;</comment>
                            <comment id="12661562" author="tcurdt" created="Wed, 7 Jan 2009 13:37:43 +0000"  >&lt;p&gt;Mate! That&apos;s an old issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Should be fixed in trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333029" name="ASF.LICENSE.NOT.GRANTED--compress.patch" size="3324" author="crafterm@apache.org" created="Fri, 6 Aug 2004 00:06:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Jan 2009 13:37:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49571</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b447:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-29] Closing an CBZip2OutputStream when no data has been written fails with an java.lang.ArithmeticException: / by zero</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-29</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The following test case reproduces the error:&lt;/p&gt;

&lt;p&gt;public class CBZip2OutputStreamTest extends TestCase {&lt;/p&gt;

&lt;p&gt;	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@throws IOException&lt;br/&gt;
	 */&lt;br/&gt;
	public void testEmtpyOutput() throws IOException 
{
		CBZip2OutputStream outputStream = new CBZip2OutputStream( new ByteArrayOutputStream() );
		outputStream.close();
	}
&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;fails with:&lt;/p&gt;

&lt;p&gt;java.lang.ArithmeticException: / by zero&lt;br/&gt;
	at org.apache.tools.bzip2.CBZip2OutputStream.mainSort(CBZip2OutputStream.java:1174)&lt;br/&gt;
	at org.apache.tools.bzip2.CBZip2OutputStream.doReversibleTransformation(CBZip2OutputStream.java:1386)&lt;br/&gt;
	at org.apache.tools.bzip2.CBZip2OutputStream.endBlock(CBZip2OutputStream.java:476)&lt;br/&gt;
	at org.apache.tools.bzip2.CBZip2OutputStream.close(CBZip2OutputStream.java:427)&lt;br/&gt;
	at CBZip2OutputStreamTest.testEmtpyOutput(CBZip2OutputStreamTest.java:23)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12371962">COMPRESS-29</key>
            <summary>Closing an CBZip2OutputStream when no data has been written fails with an java.lang.ArithmeticException: / by zero</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="stefan liebig">Stefan Liebig</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jun 2007 13:02:57 +0000</created>
                <updated>Tue, 13 Apr 2010 20:42:27 +0000</updated>
                            <resolved>Thu, 8 Jan 2009 11:14:17 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12607098" author="ebourg" created="Sun, 22 Jun 2008 15:19:56 +0000"  >&lt;p&gt;The Ant class is also affected by this issue :&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=32200&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=32200&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12661857" author="cgrobmeier" created="Thu, 8 Jan 2009 06:44:29 +0000"  >&lt;p&gt;The Ant implementation has been fixed for a while. The attached patch updates the bzip2 implementation to the current impl which is beeing used from Ant.&lt;/p&gt;</comment>
                            <comment id="12661939" author="tcurdt" created="Thu, 8 Jan 2009 11:14:17 +0000"  >&lt;p&gt;should be fixed ... please verify and close&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397381" name="patch-update-bzip2.txt" size="68861" author="cgrobmeier" created="Thu, 8 Jan 2009 06:44:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 22 Jun 2008 15:19:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uo2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177040</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-28] CPIO reports unexpected EOF</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-28</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;When unpacking an CPIO archive (made with the compress classes or even made with OSX cpio comandline tool) an EOF exception is thrown.&lt;br/&gt;
Here is the testcode:&lt;/p&gt;

&lt;p&gt;        final File input = getFile(&quot;cmdcreated.cpio&quot;);&lt;/p&gt;

&lt;p&gt;        final InputStream in = new FileInputStream(input);&lt;br/&gt;
        CpioArchiveInputStream cin = new CpioArchiveInputStream(in);&lt;/p&gt;

&lt;p&gt;        CpioArchiveEntry entry = null;&lt;/p&gt;

&lt;p&gt;        while ((entry = (CpioArchiveEntry) cin.getNextCPIOEntry()) != null) &lt;/p&gt;
{
            File target = new File(dir, entry.getName());
            final OutputStream out = new FileOutputStream(target);
            IOUtils.copy(in, out);
            out.close();
        }

&lt;p&gt;        cin.close();&lt;/p&gt;

&lt;p&gt;Stacktrace is here:&lt;/p&gt;

&lt;p&gt;java.io.EOFException&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.readFully(CpioArchiveInputStream.java:293)&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.getNextCPIOEntry(CpioArchiveInputStream.java:168)&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStreamTest.testCpioUnpack(CpioArchiveInputStreamTest.java:26)&lt;br/&gt;
	...&lt;/p&gt;

&lt;p&gt;This happens with the first read access to the archive. It occured while my try to improve the testcases.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12417353">COMPRESS-28</key>
            <summary>CPIO reports unexpected EOF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cgrobmeier">Christian Grobmeier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Mar 2009 06:36:55 +0000</created>
                <updated>Thu, 26 Mar 2009 10:58:34 +0000</updated>
                            <resolved>Thu, 26 Mar 2009 10:58:34 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12683773" author="cgrobmeier" created="Fri, 20 Mar 2009 07:01:31 +0000"  >&lt;p&gt;In my cpio are two xml files, test1.xml and test2.xml.&lt;br/&gt;
test1.xml&apos;s header can be read. The file is written to the disc from the correct start point. But it looks like cpio cannot find the end of my file. It simply writes the rest of the archive too into test1.xml till the stream ended. After that the EOF raises.&lt;/p&gt;

&lt;p&gt;To make it more clear. test1.xml contains something like that:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version = &apos;1.0&apos;?&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE connections&amp;gt;&lt;br/&gt;
&amp;lt;connections&amp;gt;&lt;br/&gt;
&amp;lt;/connections&amp;gt;&lt;br/&gt;
07070200042db5000081a4000001f5000001f50000000149c1df900000004e0000000e0000000500&lt;br/&gt;
000000000000000000000a00001802test2.xml^@&amp;lt;?xml version = &apos;1.0&apos;?&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE connections&amp;gt;&lt;br/&gt;
&amp;lt;meinxml&amp;gt;&lt;br/&gt;
        &amp;lt;leer /&amp;gt;&lt;br/&gt;
&amp;lt;/meinxml&amp;gt;&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@0707020000000000000000000000000000000000000001000000000000000000000000000000&lt;br/&gt;
0000000000000000000000000b00000000TRAILER!!!&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@^@&lt;/p&gt;</comment>
                            <comment id="12688231" author="cgrobmeier" created="Mon, 23 Mar 2009 07:09:53 +0000"  >&lt;p&gt;This patch improves the javadoc of the CPIO classes - it has been done due to analysis of this issue&lt;/p&gt;</comment>
                            <comment id="12688236" author="cgrobmeier" created="Mon, 23 Mar 2009 08:07:21 +0000"  >&lt;p&gt;This is a bug in the testcases &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I provide the patch tomorrow.&lt;/p&gt;</comment>
                            <comment id="12688250" author="bodewig" created="Mon, 23 Mar 2009 09:11:22 +0000"  >&lt;p&gt;Javadoc patch committed with some minor cosmetic changes to make it look more readable.&lt;/p&gt;</comment>
                            <comment id="12689362" author="cgrobmeier" created="Thu, 26 Mar 2009 05:13:40 +0000"  >&lt;p&gt;This patch includes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Improvment of Testcases&lt;/li&gt;
	&lt;li&gt;Small changes on CpioOutstream: to work correctly with this Streams, you had to call a finish() method besides the usually closeEntry. Now its working as all the other Stream classes in compress&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;When applied, this issue should be resolved&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12403416" name="patch-improvedcpiodocs.txt" size="11093" author="cgrobmeier" created="Mon, 23 Mar 2009 07:09:53 +0000"/>
                            <attachment id="12403687" name="patch_cpiotestcases_closing.txt" size="7926" author="cgrobmeier" created="Thu, 26 Mar 2009 05:13:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Mar 2009 09:11:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-27] BZip2CompressorInputStream.reportCRCError()  does not report problems to user</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-27</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;BZip2CompressorInputStream.reportCRCError() merely writes an error message to System.err; it should really throw an IOException as indicated in the method signature.&lt;/p&gt;

&lt;p&gt;The IOException message should probably show the expected and actual CRCs.&lt;/p&gt;

&lt;p&gt;Or at least the method should set a flag that can be tested by the caller.&lt;/p&gt;

&lt;p&gt;The code says it does this because &quot;previous versions of the class did&quot; - however this does not apply, as there are no previous versions released.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416132">COMPRESS-27</key>
            <summary>BZip2CompressorInputStream.reportCRCError()  does not report problems to user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2009 19:17:22 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:53 +0000</updated>
                            <resolved>Fri, 20 Mar 2009 15:05:17 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12683336" author="cgrobmeier" created="Thu, 19 Mar 2009 06:18:04 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;

&lt;p&gt;I actually removed the throwCRC method - who really needs a private method which only throws one IOException? The error is thrown where it actually happens now.&lt;/p&gt;</comment>
                            <comment id="12683900" author="bodewig" created="Fri, 20 Mar 2009 15:05:17 +0000"  >&lt;p&gt;svn revision 756508&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402548" name="patch-runcrcerror.txt" size="24458" author="cgrobmeier" created="Thu, 19 Mar 2009 06:18:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Mar 2009 06:18:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110548</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169843</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-26] TarArchiveEntry(File) now crashes on file system roots</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-26</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The TarArchiveEntry(File) constructor now crashes if the File argument is a file system root.&lt;/p&gt;

&lt;p&gt;For example, on my windows box, I want to backup the entire contents of my F drive, so I am supplying a File argument that is constructed as&lt;br/&gt;
	new File(&quot;F:&lt;br class=&quot;atl-forced-newline&quot; /&gt;&quot;)&lt;/p&gt;

&lt;p&gt;That particular file causes the TarArchiveEntry(File) constructor to fail as follows:&lt;br/&gt;
	Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
		at java.lang.StringBuffer.charAt(StringBuffer.java:162)&lt;br/&gt;
		at org.apache.commons.compress.archivers.tar.TarArchiveEntry.&amp;lt;init&amp;gt;(TarArchiveEntry.java:245)&lt;/p&gt;

&lt;p&gt;Looking at the code (I downloaded revision 743098 yesterday), it is easy to see why this occured:&lt;/p&gt;

&lt;p&gt;1) the&lt;br/&gt;
	if (osname != null) {&lt;br/&gt;
logic will strip the &quot;F:&quot; from my path name of &quot;F:\&quot;, leaving just the &quot;\&quot;&lt;/p&gt;

&lt;p&gt;2) that &quot;\&quot; will then be turned into a single &quot;/&quot; by the &lt;br/&gt;
	fileName = fileName.replace(File.separatorChar, &apos;/&apos;);&lt;br/&gt;
line&lt;/p&gt;

&lt;p&gt;3) that single &quot;/&quot; will then be removed by the&lt;br/&gt;
	while (fileName.startsWith(&quot;/&quot;)) {&lt;br/&gt;
logic, leaving the empty string &quot;&quot;.&lt;/p&gt;

&lt;p&gt;4) then line #245&lt;br/&gt;
	if (this.name.charAt(this.name.length() - 1) != &apos;/&apos;) {&lt;br/&gt;
must crash, because it falsely assumes that fileName has content.&lt;/p&gt;

&lt;p&gt;THIS IS A SHOW STOPPER BUG FOR ME.&lt;/p&gt;

&lt;p&gt;I am not sure when this current behavior of TarArchiveEntry was introduced; a very old codebase (from 2+ years ago) of compress that I used to use handled file system roots just fine.&lt;/p&gt;

&lt;p&gt;There are many ways to fix this.  For instance, if it is, in fact, OK for the name field to be empty, then you can simply put a check on line #245 as follows:&lt;br/&gt;
            if ( (name.length() &amp;gt; 0) &amp;amp;&amp;amp; (name.charAt(name.length() - 1) != &apos;/&apos;) ) {&lt;br/&gt;
(NOTE on coding style: do you really need to use &quot;this.&quot; in the constructor when there is no possible ambiguity?  Makes your code wordier and therefore harder to read.)&lt;/p&gt;

&lt;p&gt;My guess, not knowing your full codebase well, is that it is NOT OK for name to be blank.  For example, you seem to want directories to end with a &apos;/&apos; char, and file ssystem roots are always directories.&lt;/p&gt;

&lt;p&gt;Therefore, you have some decisions to make:&lt;/p&gt;

&lt;p&gt;a) is it OK for the name field to simply be &quot;/&quot; in the case of file system roots?&lt;/p&gt;

&lt;p&gt;b) if a) is not good for some reason, then you must introduce an artificial root name, so that name takes on a value like&lt;br/&gt;
	&quot;filesystemRoot/&quot;&lt;br/&gt;
or&lt;br/&gt;
	&quot;filesystemRoot_F/&quot;&lt;br/&gt;
or whatever.&lt;/p&gt;

&lt;p&gt;This bug, by the way, brings up another issue: there currently are no javadocs regarding field contracts.  Every field&apos;s javadocs needs its constraints to be specified as a contract, for example,&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The entry&apos;s name.&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;&lt;/li&gt;
	&lt;li&gt;Contract: is never null (and never empty?).&lt;/li&gt;
	&lt;li&gt;Contains (only ASCII chars?  any Unicode chars?).&lt;/li&gt;
	&lt;li&gt;Must be (&amp;lt;= 100 chars?  unlimited number of chars?).&lt;/li&gt;
	&lt;li&gt;If 
{@link #file}
&lt;p&gt; is a directory, then must end in a &apos;/&apos; char.&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;etc...&lt;br/&gt;
    */&lt;br/&gt;
    private StringBuffer name;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;win xp sp3, but this is probably irrelevant&lt;/p&gt;</environment>
        <key id="12414581">COMPRESS-26</key>
            <summary>TarArchiveEntry(File) now crashes on file system roots</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bodewig">Stefan Bodewig</assignee>
                                    <reporter username="bbatman">Sam Smith</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2009 16:17:25 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:53 +0000</updated>
                            <resolved>Tue, 17 Mar 2009 12:55:40 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12682581" author="cgrobmeier" created="Tue, 17 Mar 2009 07:42:33 +0000"  >&lt;p&gt;Attached patch should fix the problem. Before:&lt;br/&gt;
this.name.charAt(this.name.length() - 1) != &apos;/&apos;&lt;/p&gt;

&lt;p&gt;name&apos;s length will be asked if it is zero. If so, the root directory is meant.&lt;/p&gt;

&lt;p&gt;I couldn&apos;t write a working test since I am on OSX. I had to copy out the necessary code. If somebody has an Win-Box, please test.&lt;/p&gt;

&lt;p&gt;I think this file needs some refactoring to make it more testable.&lt;/p&gt;</comment>
                            <comment id="12682662" author="bodewig" created="Tue, 17 Mar 2009 12:42:57 +0000"  >&lt;p&gt;The code has been that way since the very first version in Ant &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.eu.apache.org/viewvc/ant/core/trunk/src/main/org/apache/tools/tar/TarEntry.java?revision=267597&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.eu.apache.org/viewvc/ant/core/trunk/src/main/org/apache/tools/tar/TarEntry.java?revision=267597&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Strangely, it only affects the File-arg constructor, maybe you&apos;ve been using the String-arg constructor in the past.&lt;/p&gt;

&lt;p&gt;I&apos;m currently writing a few tests to see whether a file name of &quot;/&quot; causes any problems (GNU tar complains but simply strips the leading /) and will check in a fix - that applies to all constructors - soon.&lt;/p&gt;</comment>
                            <comment id="12682665" author="bodewig" created="Tue, 17 Mar 2009 12:55:40 +0000"  >&lt;p&gt;svn revision 755227&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402358" name="patch-filerootcrash.txt" size="16124" author="cgrobmeier" created="Tue, 17 Mar 2009 07:42:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Mar 2009 07:42:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-25] checkstyle.xml is missing</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-25</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Checkstyle.xml is missing and mvn site cannot run successfully.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12419212">COMPRESS-25</key>
            <summary>checkstyle.xml is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cgrobmeier">Christian Grobmeier</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Mar 2009 12:27:08 +0000</created>
                <updated>Wed, 25 Mar 2009 14:37:50 +0000</updated>
                            <resolved>Wed, 25 Mar 2009 14:37:50 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12689118" author="cgrobmeier" created="Wed, 25 Mar 2009 14:10:44 +0000"  >&lt;p&gt;This patch removes the CS file from the pom, since nobody contributing to the project seems to like codestyle enforcment&lt;/p&gt;</comment>
                            <comment id="12689120" author="bodewig" created="Wed, 25 Mar 2009 14:37:50 +0000"  >&lt;p&gt;svn revision 758271&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12403613" name="patch-remove-cs.txt" size="636" author="cgrobmeier" created="Wed, 25 Mar 2009 14:10:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Mar 2009 14:37:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169854</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-24] Old Tar-Implementation causes Bugs when extracting files</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-24</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The currently used TarIn/Out-Stream implementations in trunk are very old. The newer implementation from the ant project fix many bugs.&lt;br/&gt;
For example the getNextEntry() method doesn&apos;t skip over datafields correctly. Size isn&apos;t set correctly etc.&lt;/p&gt;

&lt;p&gt;The old compress tar-code should be updated with newer ant-code. This also blocks features like the proposed ChangeSet.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411930">COMPRESS-24</key>
            <summary>Old Tar-Implementation causes Bugs when extracting files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="cgrobmeier">Christian Grobmeier</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jan 2009 08:07:08 +0000</created>
                <updated>Thu, 2 May 2013 02:29:19 +0000</updated>
                            <resolved>Thu, 8 Jan 2009 11:09:31 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12661884" author="cgrobmeier" created="Thu, 8 Jan 2009 08:07:55 +0000"  >&lt;p&gt;This patch updates the compress code with newer ant-tar-code.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12359720">COMPRESS-34</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12347957">COMPRESS-8</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12397390" name="patch-update-tar.txt" size="121571" author="cgrobmeier" created="Thu, 8 Jan 2009 08:07:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49553</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b44f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-23] [compress] TarInputStream returns negative value for read() [PATCH]</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-23</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;TarInputStream.read() does not convert the byte it has read to a positive number&lt;br/&gt;
after casting it to an integer.  This causes downstream processes to fail to&lt;br/&gt;
recognise the value properly.&lt;/p&gt;

&lt;p&gt;Index: org/apache/commons/compress/tar/TarInputStream.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; org/apache/commons/compress/tar/TarInputStream.java	(revision 231420)&lt;br/&gt;
+++ org/apache/commons/compress/tar/TarInputStream.java	(working copy)&lt;br/&gt;
@@ -306,7 +306,7 @@&lt;br/&gt;
         }&lt;br/&gt;
         else&lt;/p&gt;
         {
-            return (int)m_oneBuf[ 0 ];
+            return (int)m_oneBuf[ 0 ] &amp;amp; 0xFF;
         }
&lt;p&gt;     }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342489">COMPRESS-23</key>
            <summary>[compress] TarInputStream returns negative value for read() [PATCH]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="ajmp1960@hotmail.com">Adrian Pronk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Aug 2005 22:15:28 +0000</created>
                <updated>Sun, 18 Apr 2010 09:22:49 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 13:59:19 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410185" author="mario@ops.co.at" created="Thu, 18 Aug 2005 22:23:57 +0000"  >&lt;p&gt;When will this fail?&lt;br/&gt;
Do you have such a tar-file.&lt;/p&gt;</comment>
                            <comment id="12410186" author="ajmp1960@hotmail.com" created="Mon, 22 Aug 2005 09:29:38 +0000"  >&lt;p&gt;Create a file like this:&lt;br/&gt;
 $ perl -e &apos;print &quot;\xff&quot;&apos; &amp;gt; negative-byte&lt;br/&gt;
 $ tar cf negative-byte.tar negative-byte&lt;/p&gt;

&lt;p&gt;Then run the following Java program:&lt;/p&gt;

&lt;p&gt;import org.apache.commons.compress.tar.TarInputStream;&lt;br/&gt;
import org.apache.commons.compress.tar.TarEntry;&lt;br/&gt;
import java.io.FileInputStream;&lt;/p&gt;

&lt;p&gt;public class TarPlay  {&lt;br/&gt;
    public static void main(String[] args) throws Exception &lt;/p&gt;
{
        TarInputStream tis = new TarInputStream(new
FileInputStream(&quot;negative-byte.tar&quot;));
        TarEntry tar = tis.getNextEntry();
        System.out.println(&quot;Name: &quot; + tar.getName() + &quot;, size: &quot; + tar.getSize());
        int data = tis.read();
        if (data == -1)
            System.out.println(&quot;EOF when trying to read first byte&quot;);
        else
            System.out.println(&quot;Read first byte: &quot; + data);
    }
&lt;p&gt;}&lt;/p&gt;



&lt;p&gt;This will output:&lt;br/&gt;
Name: negative-byte, size: 1&lt;br/&gt;
EOF when trying to read first byte&lt;/p&gt;</comment>
                            <comment id="12410187" author="gudnabrsam@yahoo.com" created="Wed, 4 Jan 2006 07:01:56 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-33&quot; title=&quot;[compress] TarInputStream.read() returns wrong values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-33&quot;&gt;&lt;del&gt;COM-1778&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12341930">COMPRESS-33</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Aug 2005 22:23:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49568</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b44n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-22] COMPRESS-REDESIGN: ArchiveEntry should force an isDirectory() method on implementations</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-22</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;In order to use commons-compress archives in an ambiguous way, there should be an isDirectory() method for ArchiveEntry. ZipArchiveEntry, JarArchiveEntry, and TarArchiveEntry already have implementations so there is no extra work that has to be done.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12405299">COMPRESS-22</key>
            <summary>COMPRESS-REDESIGN: ArchiveEntry should force an isDirectory() method on implementations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="tjpinet">Tim Pinet</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Sep 2008 19:17:38 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:28 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 13:48:59 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="18000">5h</timeoriginalestimate>
                            <timeestimate seconds="18000">5h</timeestimate>
                                        <comments>
                            <comment id="12635183" author="tjpinet" created="Sat, 27 Sep 2008 19:18:34 +0000"  >&lt;p&gt;ArchiveEntry.patch: Patch file with the fix to the interface. Added method isDirectory().&lt;/p&gt;</comment>
                            <comment id="12635184" author="tjpinet" created="Sat, 27 Sep 2008 19:19:42 +0000"  >&lt;p&gt;MemoryArchiveEntry.patch: New implementation of the isDirectory() method for the MemoryArchiveEntry class.&lt;/p&gt;</comment>
                            <comment id="12635186" author="tjpinet" created="Sat, 27 Sep 2008 19:20:12 +0000"  >&lt;p&gt;ArArchiveEntry.patch: New implementation of the isDirectory() method for the ArArchiveEntry class.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12391093" name="ArArchiveEntry.patch" size="359" author="tjpinet" created="Sat, 27 Sep 2008 19:20:12 +0000"/>
                            <attachment id="12391091" name="ArchiveEntry.patch" size="286" author="tjpinet" created="Sat, 27 Sep 2008 19:18:34 +0000"/>
                            <attachment id="12391092" name="MemoryArchiveEntry.patch" size="340" author="tjpinet" created="Sat, 27 Sep 2008 19:19:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b44v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-21] CompressUtils#compareByteArrays() looks wrong</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-21</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;CompressUtils#compareByteArrays() looks wrong.&lt;/p&gt;

&lt;p&gt;The Javadoc says that it compares two byte arrays, however the arrays are treated differently:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; compareByteArrays(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] source, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] match) {
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0;
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;(source.length &amp;lt; i || i &amp;lt; match.length ) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(source[i] != match[i]) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
            }
            i++;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code will keep checking bytes from match[] until there is a mismatch with source[].&lt;br/&gt;
If source[] is shorther than match[] then ArrayOutOfBoundsException will be generated.&lt;/p&gt;

&lt;p&gt;If source[] is longer than match[], then trailing bytes in source[] will be ignored.&lt;/p&gt;

&lt;p&gt;Neither behaviour seems particularly useful...&lt;/p&gt;

&lt;p&gt;The method does not appear to be used, so perhaps it should just be deleted?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414607">COMPRESS-21</key>
            <summary>CompressUtils#compareByteArrays() looks wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2009 19:15:02 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:53 +0000</updated>
                            <resolved>Mon, 23 Feb 2009 16:33:30 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12672948" author="bodewig" created="Thu, 12 Feb 2009 11:02:42 +0000"  >&lt;p&gt;the whole CompressUtils class seems to be unused.  I dont see any reason to keep it at all.&lt;/p&gt;</comment>
                            <comment id="12675964" author="bodewig" created="Mon, 23 Feb 2009 16:33:30 +0000"  >&lt;p&gt;deleted the class with svn revision 747071&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Feb 2009 11:02:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-20] Findbugs reports</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-20</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;TarEntry defines equals(TarEntry) method which does not override Object.equals() - is this intended?&lt;br/&gt;
If so, maybe the method should be called something different such as isSame() to avoid confusion.&lt;/p&gt;

&lt;p&gt;BZip2Compressor and ZipArchive return a pointer to a private byte array, thus allowing external code to modfy the contents of the final array.&lt;br/&gt;
They should return a copy.&lt;/p&gt;

&lt;p&gt;BZip2OutputStream line 1302:   m_block[ m_zptr[ ( lo + hi ) &amp;gt;&amp;gt; 1 ] + d + 1 ] );&lt;br/&gt;
Findbugs says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The code computes the average of two integers using either division or signed right shift, and then uses the result as the index of an array. If the values being averaged are very large, this can overflow (resulting in the computation of a negative average). Assuming that the result is intended to be nonnegative, you can use an unsigned right shift instead. In other words, rather that using (low+high)/2, use (low+high) &amp;gt;&amp;gt;&amp;gt; 1 &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;TarArchive line 74 may fail to close zInputStream&lt;/p&gt;

&lt;p&gt;The classes ZipShort, ZipLong and AsiExtraField implement Cloneable but do not define or use the clone method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399671">COMPRESS-20</key>
            <summary>Findbugs reports</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bodewig">Stefan Bodewig</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Jul 2008 15:42:50 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:53 +0000</updated>
                            <resolved>Tue, 10 Feb 2009 16:52:17 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12670744" author="bodewig" created="Thu, 5 Feb 2009 13:00:22 +0000"  >&lt;p&gt;re-ran findbugs since some of the issues have been outdated.&lt;/p&gt;

&lt;p&gt;In addition: &lt;/p&gt;

&lt;p&gt;ZipArchiveEntry clone may return null (this class doesn&apos;t exist in Ant)&lt;/p&gt;

&lt;p&gt;TarInputStream and two methods in ZipFile ignore the result of InputStream.skip()&lt;/p&gt;

&lt;p&gt;ArchiveStreamFactory createArchiveInputStream ignores result of InputStream read (not in Ant)&lt;/p&gt;

&lt;p&gt;CpioArchiveEntry.setMode &quot;forgets&quot; to throw IllegalArgumentException (not in Ant)&lt;/p&gt;

&lt;p&gt;redudant null check in CpioArchiveOutputStream.closeEntry (not in Ant)&lt;/p&gt;

&lt;p&gt;JarArchiveEntry certificates and manifestattributes are never assigned to (not in Ant)&lt;/p&gt;

&lt;p&gt;silly selfassignment of numToWrite in TarOutputStream write&lt;/p&gt;

&lt;p&gt;JarArchivEntry returns pointer to private array (not in Ant) as does UnrecognizedExtraField&lt;/p&gt;

&lt;p&gt;some static byte[] in ZipOutputStream could be abused by subclasses, not fixed in Ant because of backwards compatibility issues.  Not sure whether it should be fixed in compress, will discuss on list.&lt;/p&gt;

&lt;p&gt;CpioArchiveOutputStream synchronization of crc is inconsistent (not in Ant)&lt;/p&gt;

&lt;p&gt;dead store to c in BZip2CompressorOutputStream med3&lt;/p&gt;

&lt;p&gt;oddness-check in BZip2CompressorOutputStream sendMTFValues may fail for negative numbers&lt;/p&gt;

&lt;p&gt;The problems that have also been in Ant&apos;s codebase have been fixed there in svn revision 741089 and merged over to compress in svn revision 741092.&lt;/p&gt;

&lt;p&gt;the additional problems in cpio, JarArchive and ArchiveStreamFactory  have been addressed in svn revision 741095.&lt;/p&gt;

&lt;p&gt;will close this, once we know what to do with the remaining issues.&lt;/p&gt;</comment>
                            <comment id="12672317" author="bodewig" created="Tue, 10 Feb 2009 16:52:17 +0000"  >&lt;p&gt;with svn revision 743014 the only remaining issue are the &quot;for future use&quot; fields in JarArchiveEntry.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Feb 2009 13:00:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tg9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-19] ArchiveStreamFactory.createArchiveInputStream() &amp; createArchiveOutputStream() should throw Exception if archiverName is not recognised</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-19</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;ArchiveStreamFactory.createArchiveInputStream() should throw an Exception if archiverName is not recognised - at present it returns null, which is not particularly helpful.&lt;/p&gt;

&lt;p&gt;The method sig says it throws ArchiveException; however it could also throw IllegalArgumentException.&lt;/p&gt;

&lt;p&gt;Likewise for createArchiveOutputStream()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416136">COMPRESS-19</key>
            <summary>ArchiveStreamFactory.createArchiveInputStream() &amp; createArchiveOutputStream() should throw Exception if archiverName is not recognised</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Mar 2009 19:23:40 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:54 +0000</updated>
                            <resolved>Fri, 13 Mar 2009 05:23:48 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12681186" author="cgrobmeier" created="Thu, 12 Mar 2009 06:55:04 +0000"  >&lt;p&gt;The attached patch fixes the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ArchiveStreamFactory and CompressStreamFactory throw an Exception now if no fitting Archiver/Compressor cand be found&lt;/li&gt;
	&lt;li&gt;If the name of the impl. or the stream is null, an IllegalArgumentException will be thrown&lt;/li&gt;
	&lt;li&gt;ArchiverStreamFactory.createArchiveInputStream(final InputStream in) doesn&apos;t throw in IOException anymore (will be wrapped around ArchiveException, like Compressor-Factory does)&lt;/li&gt;
	&lt;li&gt;ArchiverStreamFactory.createArchiveInputStream(final InputStream in) now checks if the incoming stream is true at markSupported(). If no, an IllegalArgumentException will be thrown. I also removed the TODO on that place.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12681612" author="bodewig" created="Fri, 13 Mar 2009 05:23:48 +0000"  >&lt;p&gt;svn revision 753122&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402020" name="patch-exceptionhandlinginfactories.txt" size="10202" author="cgrobmeier" created="Thu, 12 Mar 2009 06:55:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Mar 2009 06:55:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110544</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tglb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-18] JarArchiveEntry does not populate manifestAttributes or certificates</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-18</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;JarArchiveEntry does not populate manifestAttributes or certificates - they are both always null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415706">COMPRESS-18</key>
            <summary>JarArchiveEntry does not populate manifestAttributes or certificates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Feb 2009 20:51:49 +0000</created>
                <updated>Wed, 23 Jan 2013 15:33:16 +0000</updated>
                                                            <fixVersion>2.0</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12843202" author="bodewig" created="Tue, 9 Mar 2010 17:20:55 +0000"  >&lt;p&gt;a re-implementation of the jar package using java.util.jar rather than our own zip package.&lt;/p&gt;

&lt;p&gt;This has some backwards compatibility issues:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Jar*Stream and JarArchiveEntry now have different base classes than before&lt;/li&gt;
	&lt;li&gt;the stream constructors throw exceptions and I had to wrap the IOException or would have been forced to allow the factory methods to to throw IOException which would have been even worse looking at it WRT backwards compatibility&lt;/li&gt;
	&lt;li&gt;you can&apos;t have an empty jar file - java.util.zip.ZipOutputStream throws an exception&lt;/li&gt;
	&lt;li&gt;I&apos;ve removed the getManifestAttributes method that never worked anyway, this could be fixed&lt;/li&gt;
	&lt;li&gt;you can&apos;t add a ZipArchiveEntry to a JarInputStream, this could be fixed if we wanted to&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;the patch itself doesn&apos;t address the count() methods in Archive*Stream, this can easily be added by using something like the CountingStream I added to CpioArchiveOutputStream in svn revision 911031 and removed again later&lt;/p&gt;</comment>
                            <comment id="12856846" author="jukkaz" created="Wed, 14 Apr 2010 11:29:12 +0000"  >&lt;p&gt;What&apos;s the benefit of the proposed change? It doesn&apos;t seem to address the topic of this issue.&lt;/p&gt;</comment>
                            <comment id="12856894" author="bodewig" created="Wed, 14 Apr 2010 13:44:39 +0000"  >&lt;p&gt;It addresses the issue by making JarArchiveEntry extend JarEntry now - which provides access to the manifest attributes and certificates.&lt;/p&gt;</comment>
                            <comment id="12856985" author="jukkaz" created="Wed, 14 Apr 2010 17:44:08 +0000"  >&lt;p&gt;Ah, I see. Thanks!&lt;/p&gt;</comment>
                            <comment id="12864193" author="jukkaz" created="Wed, 5 May 2010 06:40:30 +0000"  >&lt;p&gt;Is there anything else we need to do for this? I&apos;d be happy to help if needed.&lt;/p&gt;</comment>
                            <comment id="12873609" author="cgrobmeier" created="Mon, 31 May 2010 10:09:43 +0000"  >&lt;p&gt;As discussed, postponed to 1.2&lt;/p&gt;</comment>
                            <comment id="13069895" author="bodewig" created="Sat, 23 Jul 2011 03:34:40 +0000"  >&lt;p&gt;Unless we decide to remove the JAR package completely by 2.0, that is.&lt;/p&gt;</comment>
                            <comment id="13560664" author="sebb@apache.org" created="Wed, 23 Jan 2013 13:09:03 +0000"  >&lt;p&gt;Given that getManifestAttributes() does not work - and the corresponding JVM method is called getAttributes() - perhaps we should deprecate it now?&lt;/p&gt;

&lt;p&gt;Also, any objections to adding Javadoc to the two methods to say that they currently always return null?&lt;/p&gt;

&lt;p&gt;Or, given that they are not implemented, maybe they should throw an unchecked exception?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;If so, this would be documented of course&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13560749" author="bodewig" created="Wed, 23 Jan 2013 15:33:16 +0000"  >&lt;p&gt;+1 to deprecations and documenting the methods return null.  Throwing exceptions would be a bit too much IMHO (even though I don&apos;t believe anybody is actually calling either method).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12628740">COMPRESS-216</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12438302" name="compress-18.patch" size="14508" author="bodewig" created="Tue, 9 Mar 2010 17:20:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Mar 2010 17:20:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19x0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>265983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[COMPRESS-17] TAR format unspecified</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-17</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The TarArchive*putStream and Tar*putStream (e.g. TarInputStream/TarOutputStream) javadocs say nothing about which specific TAR format(s) they support.&lt;/p&gt;

&lt;p&gt;They merely use the phrase &quot;UNIX tar archive&quot; which is WAY too generic of a statement.&lt;/p&gt;

&lt;p&gt;Here are some discussions on the various TAR formats:&lt;br/&gt;
	&lt;a href=&quot;http://www.gnu.org/software/tar/manual/html_section/Formats.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.gnu.org/software/tar/manual/html_section/Formats.html&lt;/a&gt;&lt;br/&gt;
	&lt;a href=&quot;http://leaf.dragonflybsd.org/cgi/web-man?command=tar&amp;amp;section=5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://leaf.dragonflybsd.org/cgi/web-man?command=tar&amp;amp;section=5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I HIGHLY URGE YOU TO SUPPORT THE POSIX.1-2001 SPECIFICATION, SINCE IT SOLVES SO MANY ISSUES (e.g. it supports unlimited path lengths and file sizes).&lt;/p&gt;

&lt;p&gt;Corollary, once you decide which TAR formats to support, this needs to be added to the javadocs.  Make sure that the javadocs discuss all limitations for whatever format(s) are supported (especially on pathlengths, file sizes, character sets, etc).  Also make sure and include a hyperlink to a webpage that describes the format standards.&lt;/p&gt;</description>
                <environment>&lt;p&gt;I use win xp sp3, but this is probably irrelevant.&lt;/p&gt;</environment>
        <key id="12414514">COMPRESS-17</key>
            <summary>TAR format unspecified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bbatman">Sam Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2009 20:43:29 +0000</created>
                <updated>Thu, 2 May 2013 02:29:21 +0000</updated>
                            <resolved>Thu, 11 Feb 2010 16:16:16 +0000</resolved>
                                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12672680" author="bodewig" created="Wed, 11 Feb 2009 17:16:50 +0000"  >&lt;p&gt;to tell the truth, we probably don&apos;t know exactly what we implement 8-)&lt;/p&gt;

&lt;p&gt;The tar classes have been in Ant since early 2000 and it has never been clearly documented what spec they are based on.  I know we support part of the GNU extensions (long filenames).&lt;/p&gt;

&lt;p&gt;POSIX would be good, agreed.&lt;/p&gt;</comment>
                            <comment id="12694261" author="sebb@apache.org" created="Tue, 31 Mar 2009 20:44:04 +0000"  >&lt;p&gt;The code appears to set the &quot;magic&quot; string for Posix Tar, but the formatting of the octal numbers uses leading spaces, and Posix requires leading Ascii &apos;0&apos;&lt;/p&gt;

&lt;p&gt;Also the stream only writes the old header, not the new one.&lt;/p&gt;</comment>
                            <comment id="12695145" author="sebb@apache.org" created="Thu, 2 Apr 2009 21:46:19 +0000"  >&lt;p&gt;@Reporter:&lt;/p&gt;

&lt;p&gt;Could you perhaps provide one or two (small) sample tar files we could use as test data? &lt;br/&gt;
Ideally ones which require most of the new Posix features (but not huge files!)&lt;/p&gt;</comment>
                            <comment id="12832547" author="bodewig" created="Thu, 11 Feb 2010 16:16:16 +0000"  >&lt;p&gt;For the record: the package really only supports the old pre-POSIX ustar format and the GNU mode for long files names is actually &quot;oldgnu&quot; which is deprecated by GNU tar by now.&lt;/p&gt;

&lt;p&gt;Yes, we should implement full POSIX tar compliance one day - it just a matter of finding the time to code it ...&lt;/p&gt;

&lt;p&gt;svn revision 909051 documents the supported format.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12414499">COMPRESS-16</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Feb 2009 17:16:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110543</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62860</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-16] unable to extract a TAR file that contains an entry which is 10 GB in size</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-16</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;I made a TAR file which contains a file entry where the file is 10 GB in size.&lt;/p&gt;

&lt;p&gt;When I attempt to extract the file using TarInputStream, it fails with the following stack trace:&lt;/p&gt;

&lt;p&gt;	java.io.IOException: unexpected EOF with 24064 bytes unread&lt;br/&gt;
		at org.apache.commons.compress.archivers.tar.TarInputStream.read(TarInputStream.java:348)&lt;br/&gt;
		at org.apache.commons.compress.archivers.tar.TarInputStream.copyEntryContents(TarInputStream.java:388)&lt;/p&gt;

&lt;p&gt;So, TarInputStream does not seem to support large (&amp;gt; 8 GB?) files.&lt;/p&gt;

&lt;p&gt;Here is something else to note: I created that TAR file using TarOutputStream , which did not complain when asked to write a 10 GB file into the TAR file, so I assume that TarOutputStream has no file size limits?  That, or does it silently create corrupted TAR files (which would be the worst situation of all...)?&lt;/p&gt;</description>
                <environment>&lt;p&gt;I am using win xp sp3, but this should be platform independent.&lt;/p&gt;</environment>
        <key id="12414499">COMPRESS-16</key>
            <summary>unable to extract a TAR file that contains an entry which is 10 GB in size</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bbatman">Sam Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Feb 2009 16:16:26 +0000</created>
                <updated>Thu, 2 May 2013 02:29:21 +0000</updated>
                            <resolved>Thu, 1 Mar 2012 11:52:30 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12672306" author="bodewig" created="Tue, 10 Feb 2009 16:30:10 +0000"  >&lt;p&gt;what does a native tar command think of the archive?&lt;/p&gt;

&lt;p&gt;I.e. what does &quot;tar tf your-archive.tar&quot; say?&lt;/p&gt;
</comment>
                            <comment id="12672456" author="bbatman" created="Tue, 10 Feb 2009 23:47:42 +0000"  >&lt;p&gt;&amp;gt; what does a native tar command think of the archive?&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; I.e. what does &quot;tar tf your-archive.tar&quot; say?&lt;/p&gt;

&lt;p&gt;OK, I just re-executed that test, using a new build of commons-compress (revision 743098, that I checked out a few hours ago).  I also first changed my code to use TarArchiveInputStream/TarArchiveOutputStream.&lt;/p&gt;

&lt;p&gt;I get the same behavior: TarArchiveOutputStream writes the 10 GiB TAR file, and then TarArchiveInputStream chokes when attempting to read it:&lt;br/&gt;
    java.io.IOException: unexpected EOF with 24064 bytes unread&lt;br/&gt;
        at org.apache.commons.compress.archivers.tar.TarArchiveInputStream.read(TarArchiveInputStream.java:339)&lt;br/&gt;
        at org.apache.commons.compress.archivers.tar.TarArchiveInputStream.copyEntryContents(TarArchiveInputStream.java:379)&lt;/p&gt;

&lt;p&gt;BUT TarArchiveOutputStream must be silently writing corrupt data, because 2 native code TAR programs bomb on it:&lt;/p&gt;

&lt;p&gt;1) I tried extracting with jzip 1.3, but it immediately fails with an error dialog&lt;/p&gt;

&lt;p&gt;2) I have cygwin installed, so I opened a bash shell and tried your recommended &quot;tar tf your-archive.tar&quot; command, and it failed with this output:&lt;/p&gt;

&lt;p&gt;$ tar tf tarFile#3.tar&lt;br/&gt;
test_archive_extract_fileSizeLimit_shouldPass_dir#1/&lt;br/&gt;
test_archive_extract_fileSizeLimit_shouldPass_dir#1/dataFile#2_length10737418239.txt&lt;br/&gt;
tar: Skipping to next header&lt;br/&gt;
tar: Error exit delayed from previous errors&lt;/p&gt;

&lt;p&gt;Probably not very useful of output, but it does seems to prove that TarArchiveOutputStreammust be buggy too.&lt;/p&gt;</comment>
                            <comment id="12672684" author="bodewig" created="Wed, 11 Feb 2009 17:19:39 +0000"  >&lt;p&gt;This is the result I expected, unfortunately.&lt;/p&gt;

&lt;p&gt;I&apos;m not familiar enough with the tar format (yet), so I&apos;m not even sure one can have files that big inside the format we currently use (yes, I know your issue &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-17&quot; title=&quot;TAR format unspecified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-17&quot;&gt;&lt;del&gt;SANDBOX-282&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="12683344" author="cgrobmeier" created="Thu, 19 Mar 2009 06:47:33 +0000"  >&lt;p&gt;If the TAR Format is specified, we will know if this one is a bug or a new feature &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12694081" author="sebb@apache.org" created="Tue, 31 Mar 2009 12:23:17 +0000"  >&lt;p&gt;BTW, &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-17&quot; title=&quot;TAR format unspecified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-17&quot;&gt;&lt;del&gt;SANDBOX-282&lt;/del&gt;&lt;/a&gt; is &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-17&quot; title=&quot;TAR format unspecified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-17&quot;&gt;&lt;del&gt;COMPRESS-17&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12694095" author="sebb@apache.org" created="Tue, 31 Mar 2009 12:55:20 +0000"  >&lt;p&gt;According to &lt;a href=&quot;http://en.wikipedia.org/wiki/Tar_(file_format&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Tar_(file_format&lt;/a&gt;) the original tar format supports a maximum of 8GB, because the size is a maximum of 11 octal digits.&lt;/p&gt;

&lt;p&gt;77777777777 (octal)  = 8_589_934_591(decimal)&lt;/p&gt;

&lt;p&gt;There are extensions that allow longer files.&lt;/p&gt;

&lt;p&gt;Unless and until the code can be fixed to handle longer files, it should throw an error if the user tries to create an overlong entry.&lt;/p&gt;

&lt;p&gt;8GB should be enough for most purposes!&lt;/p&gt;</comment>
                            <comment id="12694225" author="sebb@apache.org" created="Tue, 31 Mar 2009 19:29:42 +0000"  >&lt;p&gt;Added a check for illegal file size:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=760566&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=760566&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
Reject illegal sizes&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;THIS IS A TEMPORARY MEASURE - if Posix tar can be implemented, the upper limit can be removed.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12705630" author="wartelld" created="Mon, 4 May 2009 15:45:01 +0000"  >&lt;p&gt;I had same problem.&lt;/p&gt;

&lt;p&gt;I found this fellow that has really figured it out.  He has added what appears to be full GNU tar support to the ice.tar package.&lt;br/&gt;
&lt;a href=&quot;http://www.mayerdan.com/2005/03/java_tar_and_problems.php&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mayerdan.com/2005/03/java_tar_and_problems.php&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;FYI ice tar was the original public domain source that ant&apos;s tar support was adapted from&lt;/p&gt;

&lt;p&gt;!! Attaching a patch against ant 1.7.1 that supports GNU tar extension. !!  It Would be REALLY REALLY nice to at least get this patch incorporated into  ant!  Thanks!&lt;/p&gt;

&lt;p&gt;It was huge priority for me to have support for writing tar files with entries &amp;gt; 8GB files.  So I added only that element of GNU tar.  This is for writing only not reading.&lt;/p&gt;

&lt;p&gt;If you go the link above you can get a patched version of ice tar from him here:&lt;br/&gt;
&lt;a href=&quot;http://www.bandddesigns.com/ml/arch/javatar-2.5.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.bandddesigns.com/ml/arch/javatar-2.5.zip&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This fellow Dan Mayer looks to have added full GNU support including multi-part tar files and verification.  Since ANT tar is very similar to ice tar which was its ancestor it should be feasible to port all of his work to ant&apos;s tar.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
-David Wartell&lt;br/&gt;
-R1Soft&lt;/p&gt;
</comment>
                            <comment id="12705631" author="wartelld" created="Mon, 4 May 2009 15:46:12 +0000"  >&lt;p&gt;Patch for ant 1.7.1 to add support for WRITING entries &amp;gt; 8GB+ per GNU tar&lt;/p&gt;</comment>
                            <comment id="12705637" author="cgrobmeier" created="Mon, 4 May 2009 16:01:44 +0000"  >&lt;p&gt;Based on the ant patch by David Wartell I created a compress-patch.&lt;br/&gt;
I didn&apos;t commit it till I got it tested - if somebody has &amp;gt; 8 gig files around, please help with testing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</comment>
                            <comment id="12706006" author="bodewig" created="Tue, 5 May 2009 12:02:05 +0000"  >&lt;p&gt;Two things to note:&lt;/p&gt;

&lt;p&gt;Ant doesn&apos;t use commons-compress and I wouldn&apos;t expect it to do so, I&apos;ve opened a separate issue over there &lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=47153&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=47153&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;javatar supports the GNU way of dealing with large files, but I wouldn&apos;t be surprised if other tar variants did it in a different way, so it may be a good idea to make handling of large files configurable just like the handling of long file names is.  That way if we add POSIX tar support later, we can plug in a different strategy.&lt;/p&gt;</comment>
                            <comment id="12874564" author="sebb@apache.org" created="Wed, 2 Jun 2010 12:30:20 +0000"  >&lt;p&gt;There are other ways of supporting large files - e.g. PAX interchange format.&lt;/p&gt;

&lt;p&gt;Compress needs to support reading large files as well - this is a bit simpler as far as the API is concerned, because one can autodetect the format that has been used.&lt;/p&gt;

&lt;p&gt;I agree that the output format needs to be configurable.&lt;/p&gt;

&lt;p&gt;BTW, there are bugs in both the patches:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;GNU format sets only the high-order bit of byte&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - not the whole byte&lt;/li&gt;
	&lt;li&gt;The Javadoc is wrong, as it refers to parsing rather than formatting the number.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13157915" author="kodis" created="Sun, 27 Nov 2011 15:29:09 +0000"  >&lt;p&gt;I&apos;ve attached two patch files against commons-compress-1.3-src which add support for reading (patch 0001) and writing (patch 0002) tar archives which contain files larger than the 8GB limit imposed by the use of a 12 character octal size field in the tar header.&lt;/p&gt;

&lt;p&gt;I&apos;ve followed the approach taken by the GNU tar utility: for files larger than the 8GB limit, continue to use the same size field, but switch to a binary size representation, noting this change by detecting (on read) or setting (on write) the most significant bit of the first byte of the size field.&lt;/p&gt;

&lt;p&gt;Tar archives written in this format are correctly processed by at least GNU tar (used primarily on Linux), BSD tar (used on Mac OS-X as well as the BSDs), and 7-Zip (used primarily on Windows).&lt;/p&gt;</comment>
                            <comment id="13162702" author="bodewig" created="Mon, 5 Dec 2011 09:59:38 +0000"  >&lt;p&gt;Read-support for the GNU version is in with svn revision 1210386&lt;/p&gt;

&lt;p&gt;Before I look into write support I&apos;ll need to reshuffle a few things so we can&lt;br/&gt;
have testcases.  The current run-it Maven profile is not really sufficient as it&lt;br/&gt;
would mean you&apos;d have to run all ZIP ITs as well.&lt;/p&gt;</comment>
                            <comment id="13163681" author="kodis" created="Tue, 6 Dec 2011 16:28:26 +0000"  >&lt;p&gt;Patch 0004 is a one-character change which corrects an error in patch 0002.&lt;/p&gt;

&lt;p&gt;The expression representing the largest value that an eleven-digit octal number can contain must be forced to a long integer value, as otherwise it overflows the limits of an int and evaluates to zero.&lt;/p&gt;</comment>
                            <comment id="13164349" author="bodewig" created="Wed, 7 Dec 2011 12:15:29 +0000"  >&lt;p&gt;writing such entries has been split out as &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-165&quot; title=&quot;Support writing entries &amp;gt; 8GiB in tar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-165&quot;&gt;&lt;del&gt;COMPRESS-165&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;With svn revision 1211405 I have added tests that prove the tar package now understands both the star/GNU/BSD variant as well as the POSIX/PAX one.&lt;/p&gt;</comment>
                            <comment id="13212703" author="sebb@apache.org" created="Tue, 21 Feb 2012 16:21:55 +0000"  >&lt;p&gt;I&apos;m not sure the treatment of the leading byte is correct.&lt;/p&gt;

&lt;p&gt;star &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; says that the value can be 0x80 or 0xFF.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cdrecord.berlios.de/private/man/star/star.4.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cdrecord.berlios.de/private/man/star/star.4.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13212741" author="bodewig" created="Tue, 21 Feb 2012 17:06:37 +0000"  >&lt;p&gt;Sorry, I saw &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-177&quot; title=&quot;TarArchiveInputStream rejects valid TAR file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-177&quot;&gt;&lt;del&gt;COMPRESS-177&lt;/del&gt;&lt;/a&gt; but am too busy to look into it right now.&lt;/p&gt;

&lt;p&gt;The test in TarUtils only checks whether the most significant bit is set, it doesn&apos;t check the actual value of the first byte so 0xFF should be detected as well.  I haven&apos;t checked whether the end result is a negative number, though.&lt;/p&gt;</comment>
                            <comment id="13212801" author="kodis" created="Tue, 21 Feb 2012 18:54:45 +0000"  >&lt;p&gt;I believe that only the most significant bit of the first byte is used to signal a binary length field.  This is what GNU tar does, and seems to match both the Wikipedia description of the tar file format (&lt;a href=&quot;http://en.wikipedia.org/wiki/Tar_%28file_format%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Tar_%28file_format%29&lt;/a&gt;) and the star man page referenced previously.  &lt;/p&gt;

&lt;p&gt;Wikipedia claims:&lt;/p&gt;

&lt;p&gt;&quot;To overcome this limitation, star in 2001 introduced a base-256 coding that is indicated by setting the high-order bit of the leftmost byte of a numeric field. GNU-tar and BSD-tar followed this idea.&quot;&lt;/p&gt;

&lt;p&gt;While the star man page says that:&lt;/p&gt;

&lt;p&gt;    &quot;Star implements  a  vendor  specific  (and  thus  non-POSIX)&lt;br/&gt;
     extension  to  put  bigger  numbers into the numeric fields.&lt;br/&gt;
     This is done by using a base 256 coding.  The top bit of the&lt;br/&gt;
     first character in the appropriate 8 character or 12 charac-&lt;br/&gt;
     ter field is set to flag non octal coding.  If base 256 cod-&lt;br/&gt;
     ing  is  in  use,  then all remaining characters are used to&lt;br/&gt;
     code the number. This results in 7  base  256  digits  in  8&lt;br/&gt;
     character  fields  and in 11 base 256 digits in 12 character&lt;br/&gt;
     fields.  All base 256 numbers are two&apos;s complement  numbers.&lt;br/&gt;
     A base 256 number in a 8 character field may hold 56 bits, a&lt;br/&gt;
     base 256 number in a 12 character field may  hold  88  bits.&lt;br/&gt;
     This  may  extended to 64 bits for 8 character fields and to&lt;br/&gt;
     95 bits for 12 character fields. For a negative  number  the&lt;br/&gt;
     first  character  currently  is set to a value of 255 (all 8&lt;br/&gt;
     bits are set).&lt;/p&gt;

&lt;p&gt;Since we don&apos;t have to worry about negative values when dealing with file sizes, I believe that the current patch is correct as it stands, at least up to the size allowed by Java&apos;s 64 bit signed long integers.&lt;/p&gt;</comment>
                            <comment id="13212857" author="sebb@apache.org" created="Tue, 21 Feb 2012 19:59:43 +0000"  >&lt;p&gt;The code currently does the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; val = buffer[offset] &amp;amp; 0x7f;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 1; i &amp;lt; length; i++) {
 &lt;span class=&quot;code-comment&quot;&gt;// check &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; val overflow removed here
&lt;/span&gt;    val = (val &amp;lt;&amp;lt; 8) + (buffer[offset + i] &amp;amp; 0xff);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So the lower 7 bits of the first byte are included in the number.&lt;/p&gt;

&lt;p&gt;With the current implementation, it is not possible to encode/decode a negative number.&lt;/p&gt;

&lt;p&gt;This is OK for lengths, but would obviously cause a problem for any field that can be negative.&lt;br/&gt;
According to the star doc the time fields can potentially be negative.&lt;/p&gt;

&lt;p&gt;Maybe what the star doc means is that certain fields are allowed to contain negative numbers, in which case the first byte is all ones, but for fields that are unsigned the lower 7 bits are treated as part of the rest of the number.&lt;/p&gt;

&lt;p&gt;In which case, the current parse method is OK so long as it is only used for unsigned fields.&lt;/p&gt;</comment>
                            <comment id="13213217" author="cowwoc" created="Wed, 22 Feb 2012 02:55:12 +0000"  >&lt;p&gt;I get the feeling that both this issue and &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-177&quot; title=&quot;TarArchiveInputStream rejects valid TAR file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-177&quot;&gt;&lt;del&gt;COMPRESS-177&lt;/del&gt;&lt;/a&gt; need a superset issue for supporting star extensions.&lt;/p&gt;</comment>
                            <comment id="13217123" author="bodewig" created="Mon, 27 Feb 2012 09:15:35 +0000"  >&lt;p&gt;I plan to look up what the GNU tar implementation does, may take a few days, though.&lt;/p&gt;

&lt;p&gt;I agree with Gili this issue has by now outgrown &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-16&quot; title=&quot;unable to extract a TAR file that contains an entry which is 10 GB in size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-16&quot;&gt;&lt;del&gt;COMPRESS-16&lt;/del&gt;&lt;/a&gt; as it specifically only dealt with lengths.  OTOH it is not restricted to star either, if we start supporting &quot;bigger numbers&quot; for group or date, we should support star as well as PAX.&lt;/p&gt;</comment>
                            <comment id="13218088" author="bodewig" created="Tue, 28 Feb 2012 11:56:22 +0000"  >&lt;p&gt;Our code is wrong.&lt;/p&gt;

&lt;p&gt;to_chars in src/create.c in GNU tar only uses the remaining bytes and sets the first one to 255 or 128 for negative/positive numbers.  Negative numbers only occur in time fields where we don&apos;t support anything non-octal ATM anyway, so this isn&apos;t a real problem right now.  It becomes one if we support star/GNU tar/POSIX dialects for the other numeric fields as well.  This would be required for &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-177&quot; title=&quot;TarArchiveInputStream rejects valid TAR file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-177&quot;&gt;&lt;del&gt;COMPRESS-177&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I suggest to broaden and reopen &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-177&quot; title=&quot;TarArchiveInputStream rejects valid TAR file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-177&quot;&gt;&lt;del&gt;COMPRESS-177&lt;/del&gt;&lt;/a&gt; to something like &quot;extend STAR/POSIX support to all numeric fields&quot; or alternatively create a new issue and close this one again.&lt;/p&gt;</comment>
                            <comment id="13219977" author="bodewig" created="Thu, 1 Mar 2012 11:52:30 +0000"  >&lt;p&gt;The specific issue (file size) has been fixed, I&apos;ve created &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-182&quot; title=&quot;Support big or even negative numbers in all numeric TAR headers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-182&quot;&gt;&lt;del&gt;COMPRESS-182&lt;/del&gt;&lt;/a&gt; for the rest.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12478322">COMPRESS-121</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12543365">COMPRESS-177</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12414514">COMPRESS-17</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12505249" name="0001-Accept-GNU-tar-files-with-entries-over-8GB-in-size.patch" size="4270" author="kodis" created="Sun, 27 Nov 2011 15:20:16 +0000"/>
                            <attachment id="12505250" name="0002-Allow-creating-tar-archives-with-files-over-8GB.patch" size="2204" author="kodis" created="Sun, 27 Nov 2011 15:20:16 +0000"/>
                            <attachment id="12506276" name="0004-Prefer-octal-over-binary-size-representation.patch" size="1224" author="kodis" created="Tue, 6 Dec 2011 16:28:26 +0000"/>
                            <attachment id="12407159" name="ant-8GB-tar.patch" size="2217" author="wartelld" created="Mon, 4 May 2009 15:46:12 +0000"/>
                            <attachment id="12407161" name="patch-for-compress.txt" size="2232" author="cgrobmeier" created="Mon, 4 May 2009 16:01:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Feb 2009 16:30:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-15] COMPRESS-REDESIGN: ArchiveStreamFactory does not handle exceptions for createArchiveInputStream(InputStream)</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-15</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Reflection handles the checked exceptions for Constructor.newInstance() appropriately for:&lt;/p&gt;

&lt;p&gt;public ArchiveInputStream createArchiveInputStream( final String archiverName, final InputStream out ) throws ArchiveException &lt;/p&gt;
{...}&lt;br/&gt;
&lt;br/&gt;
However, the other method:&lt;br/&gt;
&lt;br/&gt;
public ArchiveInputStream createArchiveInputStream( final InputStream input ) throws IOException {...}

&lt;p&gt;is not implemented to handle checked constructor exceptions since all Exception catches are not handled. It looks as though this method was not completed. This method should handle exceptions similar to its counterpart.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12405772">COMPRESS-15</key>
            <summary>COMPRESS-REDESIGN: ArchiveStreamFactory does not handle exceptions for createArchiveInputStream(InputStream)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="tjpinet">Tim Pinet</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Oct 2008 23:05:00 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:27 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 13:16:08 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="18000">5h</timeoriginalestimate>
                            <timeestimate seconds="18000">5h</timeestimate>
                                        <comments>
                            <comment id="12636971" author="tjpinet" created="Sun, 5 Oct 2008 23:06:18 +0000"  >&lt;p&gt;Attached patch throws exceptions properly. Also, cleaned up some strings in the class.&lt;/p&gt;</comment>
                            <comment id="12661459" author="cgrobmeier" created="Wed, 7 Jan 2009 06:25:51 +0000"  >&lt;p&gt;New patch which eliminates reflection usage in the compress and archiver-factories &lt;/p&gt;</comment>
                            <comment id="12661461" author="cgrobmeier" created="Wed, 7 Jan 2009 06:29:03 +0000"  >&lt;p&gt;As discussed here:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/commons-dev/200810.mbox/%3C07071EEC-C9EB-40B3-B0B1-5D3306BE4013@apache.org%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/commons-dev/200810.mbox/%3C07071EEC-C9EB-40B3-B0B1-5D3306BE4013@apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;use of reflection might be a bit overkill. The patch from 2009-01-06 10:25 PM eliminates the reflection stuff from the codebase and makes everything a bit cleaner and easier to use.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12391506" name="ArchiveStreamFactory.patch" size="5927" author="tjpinet" created="Sun, 5 Oct 2008 23:06:18 +0000"/>
                            <attachment id="12397271" name="patch-improve-factories.txt" size="12922" author="cgrobmeier" created="Wed, 7 Jan 2009 06:25:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Jan 2009 06:25:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b453:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-14] [compress] CBZip2InputStream doesn&apos;t close the source stream</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-14</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Hi there,&lt;/p&gt;

&lt;p&gt;I used compress component in sandbox via VFS component. And When I accessed&lt;br/&gt;
a tbz2 file via VFS, I could not remove the tbz2 file after closing stream.&lt;br/&gt;
I checked some codes and I found the reason of the phenomenon.&lt;br/&gt;
When a client program accessed a tbz2 file, the code uses TarFileSystem&lt;br/&gt;
( org.apache.commons.vfs.provider.tar.TarFileSystem ). TarFileSystem uses&lt;br/&gt;
CBZip2InputStream via Bzip2FileObject.wrapInputStream and the source&lt;br/&gt;
stream is created from FileInputStream like this:&lt;/p&gt;

&lt;p&gt;class TarFileSystem&lt;/p&gt;

&lt;p&gt;  ... snip ...&lt;/p&gt;

&lt;p&gt;  protected TarInputStream createTarFile(final File file) throws &lt;br/&gt;
FileSystemException&lt;/p&gt;

&lt;p&gt;  ... snip ...&lt;/p&gt;

&lt;p&gt;  else if (&quot;tbz2&quot;.equalsIgnoreCase(getRootName().getScheme()))&lt;/p&gt;
  {
    return new TarInputStream(Bzip2FileObject.wrapInputStream(
      file.getAbsolutePath(), new FileInputStream(file)));
  }

&lt;p&gt;I think CBZip2InputStream should close source stream like BufferedInputStream&lt;br/&gt;
and FilteredInputStream.&lt;/p&gt;

&lt;p&gt;Could you please consider to close source stream in CBZip2InputStream#close() ?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Hiroki&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342550">COMPRESS-14</key>
            <summary>[compress] CBZip2InputStream doesn&apos;t close the source stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hiroki.ata@gmail.com">Hiroki Ata</reporter>
                        <labels>
                    </labels>
                <created>Sun, 11 Sep 2005 18:26:04 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:27 +0000</updated>
                            <resolved>Mon, 23 Mar 2009 22:18:27 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12410392" author="hiroki.ata@gmail.com" created="Sun, 11 Sep 2005 18:35:21 +0000"  >&lt;p&gt;Created an attachment (id=16360)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; patch to fix commons compress CBZip2InputStream close a source stream&lt;/p&gt;

&lt;p&gt;I tried to create a patch of my suggestion to fix CBZip2InputStream.&lt;br/&gt;
If you have an interest of it, please check and consider to use it.&lt;/p&gt;</comment>
                            <comment id="12410393" author="mario@ops.co.at" created="Sun, 11 Sep 2005 23:03:06 +0000"  >&lt;p&gt;Didnt you use the svn head version for this patch?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/jakarta/commons/sandbox/compress/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/jakarta/commons/sandbox/compress/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There were already a fix for this, though it cased a NPE, so I applied your&lt;br/&gt;
patch and now it works like a charm.&lt;/p&gt;

&lt;p&gt;Thanks for the patch!&lt;/p&gt;</comment>
                            <comment id="12410394" author="hiroki.ata@gmail.com" created="Mon, 12 Sep 2005 01:01:35 +0000"  >&lt;p&gt;Thank you for checking this report quickly. And I&apos;m so sorry I didn&apos;t&lt;br/&gt;
check svn-repository. I think commons-compress is managed by CVS-repository&lt;br/&gt;
to see the following page and the page figures CVS-repository for&lt;br/&gt;
documentation.&lt;br/&gt;
  &lt;a href=&quot;http://jakarta.apache.org/commons/sandbox/compress/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/sandbox/compress/&lt;/a&gt;&lt;br/&gt;
I should check the following page first.&lt;br/&gt;
  &lt;a href=&quot;http://jakarta.apache.org/site/cvsindex.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/site/cvsindex.html&lt;/a&gt;&lt;br/&gt;
I will check svn when I filed a new bug .&lt;/p&gt;

&lt;p&gt;( I confirmed the fix is merged, so please close this bug. )&lt;/p&gt;

&lt;p&gt;Thanks again !&lt;/p&gt;</comment>
                            <comment id="12410395" author="mario@ops.co.at" created="Mon, 12 Sep 2005 02:00:06 +0000"  >&lt;p&gt;No problem.&lt;/p&gt;

&lt;p&gt;I updated the website, though it might take some time until you can see the changes.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333795" name="ASF.LICENSE.NOT.GRANTED--CBZip2InputStream-close-src-stream.patch" size="2717" author="hiroki.ata@gmail.com" created="Sun, 11 Sep 2005 18:35:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 11 Sep 2005 23:03:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b45b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-13] commons-compress fails to read bzip2 file create with bzip2 unix cmdline tool</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-13</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Commons-compress fails to read bzip2 files created with the bzip2 unix cmdline tool because it incorrectly checks for &apos;h&apos; as first char in stream, the magic number according to &lt;a href=&quot;http://en.wikipedia.org/wiki/Bzip2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Bzip2&lt;/a&gt; is &apos;BZh&apos;.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Unix&lt;/p&gt;</environment>
        <key id="12414591">COMPRESS-13</key>
            <summary>commons-compress fails to read bzip2 file create with bzip2 unix cmdline tool</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bodewig">Stefan Bodewig</assignee>
                                    <reporter username="irockel">Ingo Rockel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2009 17:21:45 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:52 +0000</updated>
                            <resolved>Thu, 12 Feb 2009 10:28:02 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12672685" author="irockel" created="Wed, 11 Feb 2009 17:22:39 +0000"  >&lt;p&gt;Patch fixing the issue&lt;/p&gt;</comment>
                            <comment id="12672686" author="irockel" created="Wed, 11 Feb 2009 17:23:50 +0000"  >&lt;p&gt;Updated test case file&lt;/p&gt;</comment>
                            <comment id="12672939" author="bodewig" created="Thu, 12 Feb 2009 10:14:52 +0000"  >&lt;p&gt;The reason for this is the Ant heritance, in Ant it is the &amp;lt;bunzip&amp;gt; task that reads the first two bytes and validates they are &quot;B&quot; and &quot;z&quot; before handing the rest off to the BZip-Stream.&lt;/p&gt;

&lt;p&gt;I don&apos;t reaclly why it has been implemented that way, but it is certainly too late to change it in Ant - will fix commons-compress.&lt;/p&gt;</comment>
                            <comment id="12672940" author="bodewig" created="Thu, 12 Feb 2009 10:17:39 +0000"  >&lt;p&gt;the same applies to the outputstream as well (it only writes a &quot;h&quot; instead of &quot;BZh&quot;&lt;/p&gt;</comment>
                            <comment id="12672943" author="bodewig" created="Thu, 12 Feb 2009 10:28:02 +0000"  >&lt;p&gt;I used three separate reads and character comparisions instead of byte[] -&amp;gt; string to avoid encoding issues and also fixed the outputstream in svn revision 743678&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400024" name="BZip2CompressorInputStream.java.patch" size="1133" author="irockel" created="Wed, 11 Feb 2009 17:22:39 +0000"/>
                            <attachment id="12400025" name="bla.txt.bz2" size="66" author="irockel" created="Wed, 11 Feb 2009 17:23:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Feb 2009 10:14:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-12] Change API to make fields private where possible</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-12</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The field TarArchiveInputStream.in is never read locally.&lt;/p&gt;

&lt;p&gt;Is there any need for this field, which is stored by the constructor and also passed to the TarBuffer constructor?&lt;/p&gt;

&lt;p&gt;Also, the fields &quot;buffer&quot; and &quot;oneBuf&quot; could be made final.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415705">COMPRESS-12</key>
            <summary>Change API to make fields private where possible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Feb 2009 20:40:22 +0000</created>
                <updated>Tue, 24 Mar 2009 05:09:53 +0000</updated>
                            <resolved>Fri, 20 Mar 2009 15:42:49 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12681617" author="bodewig" created="Fri, 13 Mar 2009 05:34:34 +0000"  >&lt;p&gt;I&apos;d rather turn this in a more general &quot;think about protected API&quot; task that applies to some things in the zip package as well.&lt;/p&gt;

&lt;p&gt;As the checkstyle comments indicate, these fields are protected because they used to be that way in early versions of Ant - this is a backwards compatibility requirement compress doesn&apos;t share, so we are free to change things that don&apos;t really make sense (we don&apos;t want subclasses to change the buffer, for example).&lt;/p&gt;</comment>
                            <comment id="12681886" author="sebb@apache.org" created="Fri, 13 Mar 2009 20:36:33 +0000"  >&lt;p&gt;Agreed. Now is the time to grab back as many of the non-private mutable fields as possible.&lt;/p&gt;

&lt;p&gt;It&apos;s much easier to relax the requirements later - should it really prove necessary.&lt;/p&gt;

&lt;p&gt;If a mutable field is not private, there should be a (documented) good reason for making it so, and any synchronisation requirements should be stated.&lt;/p&gt;</comment>
                            <comment id="12681975" author="sebb@apache.org" created="Sat, 14 Mar 2009 02:42:25 +0000"  >&lt;p&gt;Patch to make many fields private&lt;/p&gt;</comment>
                            <comment id="12683334" author="cgrobmeier" created="Thu, 19 Mar 2009 06:05:22 +0000"  >&lt;p&gt;Patch to protect CPIO classes&lt;/p&gt;</comment>
                            <comment id="12683914" author="bodewig" created="Fri, 20 Mar 2009 15:42:49 +0000"  >&lt;p&gt;svn revision 756536&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402188" name="compress-private.patch" size="6478" author="sebb@apache.org" created="Sat, 14 Mar 2009 02:42:25 +0000"/>
                            <attachment id="12402547" name="patch-protectedapi-cpio.txt" size="33169" author="cgrobmeier" created="Thu, 19 Mar 2009 06:05:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Mar 2009 05:34:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tgof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-11] Ar doesn&apos;t delete correct</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-11</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;When working on the Testcases i figured out that a deletion from an Ar Archive is not as successful as it look at first glance.&lt;br/&gt;
For example: my bla.ar file contains test1.xml and test2.xml. I delete test2.xml&lt;/p&gt;

&lt;p&gt;The &quot;getNextEntry&quot; Method just delivers test1.xml. Looks correct.&lt;/p&gt;

&lt;p&gt;But checking the result file at commandline brings the following:&lt;/p&gt;

&lt;p&gt;$&amp;gt; ar -t /tmp/dir26673/bla.ar&lt;br/&gt;
test1.xml&lt;br/&gt;
test2.xml&lt;/p&gt;

&lt;p&gt;vi shows me that there is still the test2.xml entry in the archive,&lt;br/&gt;
even when getNextEntry returns null.&lt;/p&gt;

&lt;p&gt;Deleting test2.xml and adding test.txt afterward brings the following:&lt;/p&gt;

&lt;p&gt;$&amp;gt; ar -t /tmp/dir24825/bla.ar&lt;br/&gt;
test.txt&lt;br/&gt;
ar: /tmp/dir24825/bla.ar: Inappropriate file type or format&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415978">COMPRESS-11</key>
            <summary>Ar doesn&apos;t delete correct</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bodewig">Stefan Bodewig</assignee>
                                    <reporter username="cgrobmeier">Christian Grobmeier</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Mar 2009 07:10:25 +0000</created>
                <updated>Mon, 30 Mar 2009 16:34:34 +0000</updated>
                            <resolved>Mon, 30 Mar 2009 16:34:34 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12690107" author="tcurdt" created="Fri, 27 Mar 2009 21:16:25 +0000"  >&lt;p&gt;Problem is that with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;aos.putArchiveEntry(entry);
IOUtils.copy(ais, aos);
aos.closeArchiveEntry();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the copy does not stop at the entry boundary. So the above also copies other entries.&lt;/p&gt;</comment>
                            <comment id="12690163" author="sebb@apache.org" created="Sat, 28 Mar 2009 02:42:20 +0000"  >&lt;p&gt;Just to expand on the previous comment: &lt;/p&gt;

&lt;p&gt;The problem is that the ArArchiveInputStream does not break the stream into chunks - the read() methods should report EOF for each entry; getNextEntry() then allows read() to continue to the end of the new entry.&lt;/p&gt;

&lt;p&gt;BTW, all three read() methods update the &quot;offset&quot; variable - it looks like this is a mistake.&lt;/p&gt;</comment>
                            <comment id="12693430" author="cgrobmeier" created="Sat, 28 Mar 2009 12:34:28 +0000"  >&lt;p&gt;Here is a patch which respects the chunks.&lt;br/&gt;
Its not perfect, but the Ar-Testcase runs. However, there is still an error in ChangeSetTestCase, but this can happen due to a TestCase problem.&lt;/p&gt;

&lt;p&gt;I will apply this when I have my account. Please have a review here&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;</comment>
                            <comment id="12693441" author="sebb@apache.org" created="Sat, 28 Mar 2009 14:05:42 +0000"  >&lt;p&gt;The method public int read(byte b[]) could now be deleted, as it now just does what the parent method does.&lt;/p&gt;

&lt;p&gt;The method read() does not do any checking for end of entry; probably best to replace it with a call to read(byte[] b, int off, int len);&lt;/p&gt;</comment>
                            <comment id="12693827" author="bodewig" created="Mon, 30 Mar 2009 16:34:34 +0000"  >&lt;p&gt;svn revision #760032&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12404053" name="patch-ar-improvement.txt" size="6291" author="cgrobmeier" created="Sat, 28 Mar 2009 12:34:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Mar 2009 21:16:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-10] ZipEntry has same name as superclass</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-10</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;public class ZipEntry&lt;br/&gt;
    extends java.util.zip.ZipEntry&lt;/p&gt;

&lt;p&gt;As Findbugs says:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Nm&amp;#93;&lt;/span&gt; Class names shouldn&apos;t shadow simple name of superclass &lt;span class=&quot;error&quot;&gt;&amp;#91;NM_SAME_SIMPLE_NAME_AS_SUPERCLASS&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This class has a simple name that is identical to that of its superclass, except that its superclass is in a different package (e.g., alpha.Foo extends beta.Foo). This can be exceptionally confusing, create lots of situations in which you have to look at import statements to resolve references and creates many opportunities to accidently define methods that do not override methods in their superclasses. &lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12399669">COMPRESS-10</key>
            <summary>ZipEntry has same name as superclass</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Jul 2008 13:27:55 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:27 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 08:58:54 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12661463" author="cgrobmeier" created="Wed, 7 Jan 2009 06:35:48 +0000"  >&lt;p&gt;This issue is fixed in the new trunk. Please close this issue with the comment &quot;fixed&quot;, thank you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Jan 2009 06:35:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b45j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-9] Can not unregister a Compressor in CompressorFactory and an Archive in ArchiverFactory</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-9</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;I am implementing my own Bzip2Compressor, ZipArchive, and TarArchive implementations. I can create them and register them successfully but they will not be accessible via CompressorFactory.getInstance() or ArchiveFactory.getInstance() due to the statically registered org.apache.commons.compress.archivers.tar.TarArchive and org.apache.commons.compress.archivers.zip.ZipArchive for ArchiveFactory and org.apache.commons.compress.compressors.bzip2.BZip2Compressor for CompressorFactory. The defaults will be returned since they are found in the list first. There is no mechanism to unregister these statically registered defaults.&lt;/p&gt;

&lt;p&gt;It is recommended to implement:&lt;br/&gt;
A) clearCompressorsList() or clearArchiversList() methods that will clear out the respective lists, or&lt;br/&gt;
B) implements an unregister(Class) method so that we can unregister specific archives/compressors.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12405166">COMPRESS-9</key>
            <summary>Can not unregister a Compressor in CompressorFactory and an Archive in ArchiverFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tjpinet">Tim Pinet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Sep 2008 17:37:31 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:27 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 13:17:16 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="36000">10h</timeoriginalestimate>
                            <timeestimate seconds="36000">10h</timeestimate>
                                        <comments>
                            <comment id="12634733" author="tjpinet" created="Fri, 26 Sep 2008 02:22:22 +0000"  >&lt;p&gt;I have implemented: &lt;br/&gt;
ArchiverFactory.unregisterAllArchivers()&lt;br/&gt;
ArchiverFactory.unregisterArchiver(String)&lt;br/&gt;
ArchiverFactory.unregisterArchiver(Class)&lt;/p&gt;</comment>
                            <comment id="12634734" author="tjpinet" created="Fri, 26 Sep 2008 02:23:23 +0000"  >&lt;p&gt;I have implemented: &lt;br/&gt;
CompressorFactory.unregisterAllCompressors()&lt;br/&gt;
CompressorrFactory.unregisterCompressor(String)&lt;br/&gt;
CompressorFactory.unregisterCompressor(Class)&lt;/p&gt;</comment>
                            <comment id="12634850" author="tjpinet" created="Fri, 26 Sep 2008 13:17:16 +0000"  >&lt;p&gt;The issues that I posted pertain to the current trunk. I was just informed of the new &apos;redesign&apos; branch. I will close this issue and investigate the new branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12390990" name="ArchiverFactory.patch" size="2177" author="tjpinet" created="Fri, 26 Sep 2008 02:22:22 +0000"/>
                            <attachment id="12390991" name="CompressorFactory.patch" size="2193" author="tjpinet" created="Fri, 26 Sep 2008 02:23:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110539</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uo7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-8] TAR extraction fails with FileNotFoundException (directories not being created)</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-8</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;--------------------------------------------------&lt;br/&gt;
Summary&lt;br/&gt;
--------------------------------------------------&lt;/p&gt;

&lt;p&gt;I am able to create TAR archive files using the org.apache.commons.compress code, however, when I go to extract the contents of TAR archive using that same code, it fails.&lt;/p&gt;

&lt;p&gt;I think that there must be a bug with org.apache.commons.compress because can use the program 7-zip to successfully extract the contents of the archive.&lt;/p&gt;


&lt;p&gt;--------------------------------------------------&lt;br/&gt;
Background&lt;br/&gt;
--------------------------------------------------&lt;/p&gt;

&lt;p&gt;I need Java TAR support for archiving purposes; see this forum thread if you want to know why:&lt;br/&gt;
	&lt;a href=&quot;http://forum.java.sun.com/thread.jspa?threadID=757876&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.java.sun.com/thread.jspa?threadID=757876&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The com.ice.tar library&lt;br/&gt;
	&lt;a href=&quot;http://www.gjt.org/pkgdoc/com/ice/tar/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.gjt.org/pkgdoc/com/ice/tar/index.html&lt;/a&gt;&lt;br/&gt;
proved inadequate because it does not support long paths reliably (the GNU TAR extensions are essential).&lt;/p&gt;

&lt;p&gt;So, I am turning to this apache code, which does handle long paths and seems to be actively maintained.&lt;/p&gt;


&lt;p&gt;--------------------------------------------------&lt;br/&gt;
Details of how the TAR archive was created&lt;br/&gt;
--------------------------------------------------&lt;/p&gt;

&lt;p&gt;Because there appears to be no stable release for the org.apache.commons.compress code, I just grabbed the latest nightly build, commons-compress-20060814.  MAYBE THIS IS THE PROBLEM: if this is a known bad build and there is a better one, by all means please let me know and what build to use.  Also, somehow this info should be put as a comment for each nightly build.&lt;/p&gt;

&lt;p&gt;Assuming that the above is not the case, and that this is a new bug, here is how I stumbled across it.&lt;/p&gt;

&lt;p&gt;First, I construct a new TAR archive with code that ultimately boils down to this:&lt;br/&gt;
		String path = fileParent.getRelativePath(file);	// Note: getRelativePath will ensure that directories end with a separator&lt;br/&gt;
		if (File.separatorChar != &apos;/&apos;) path = path.replace(File.separatorChar, &apos;/&apos;);	// CRITICAL: handles bizarre systems like windoze which use other chars than / for directory separation; the TAR format requires / to be used&lt;/p&gt;

&lt;p&gt;		TarEntry entry = new TarEntry( file );&lt;br/&gt;
		entry.setName( path );&lt;br/&gt;
		out.putNextEntry( entry );&lt;br/&gt;
		writeFileData(file, out);&lt;br/&gt;
		out.closeEntry();&lt;/p&gt;

&lt;p&gt;		if ( file.isDirectory() ) {&lt;br/&gt;
			for (File fileChild : DirUtil.getContents(file, null)) &lt;/p&gt;
{	// supply null, since we test at beginning of this method (supplying filter here which just add a redundant test)
				archive( fileChild, fileParent, out, filter );
			}
&lt;p&gt;		}&lt;/p&gt;

&lt;p&gt;Note that FileParent is my own class that I originally wrote for a ZIP archiver.  This class keeps track of the root directory that is being TARed because I want all of my paths to be stored as relative offsets from this root; I do NOT want any path elements above that root directory to be included.  The apache TarEntry class appears to me to include a lot of extraneous path elements (albeit it will strip off drive letters or an initial &apos;/&apos; char).&lt;/p&gt;

&lt;p&gt;In addition to controlling the paths, I also need to use low level classes like TarOutputStream to force the use of GNU long paths via a call like&lt;br/&gt;
	tarOutputStream.setLongFileMode(TarOutputStream.LONGFILE_GNU);&lt;/p&gt;

&lt;p&gt;If I were to use the high level Archiver functionality that you document here&lt;br/&gt;
	&lt;a href=&quot;http://wiki.apache.org/jakarta-commons/Compress&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/jakarta-commons/Compress&lt;/a&gt;&lt;br/&gt;
(for ZIPs) or&lt;br/&gt;
	&lt;a href=&quot;http://svn.apache.org/viewvc/jakarta/commons/sandbox/compress/trunk/src/examples/org/apache/commons/compress/examples/TarExample.java?view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/jakarta/commons/sandbox/compress/trunk/src/examples/org/apache/commons/compress/examples/TarExample.java?view=markup&lt;/a&gt;&lt;br/&gt;
(for TARs), then I would have no such control over relative paths or GNU TAR extensions.  There is also an efficient file filtering technique that I do that would not be supported if used an Archiver.&lt;/p&gt;


&lt;p&gt;--------------------------------------------------&lt;br/&gt;
Error when extracting the TAR archive with org.apache.commons.compress&lt;br/&gt;
--------------------------------------------------&lt;/p&gt;

&lt;p&gt;I think that the archive produced by the above code is legitimate, because I can successfully extract it using the program 7-zip.  As proof, I have a program called DirectoryComparer which compares 2 directories, notes any paths which are not in common, and for common paths examines every normal file byte-for-byte to find any discrepancies.  Running that program on the original directory and the archived/extracted one found zero differences.&lt;/p&gt;

&lt;p&gt;But, when I tried extracting the archive using the org.apache.commons.compress code, I got the following error:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.commons.compress.UnpackException: Exception while unpacking.&lt;br/&gt;
        at org.apache.commons.compress.archivers.tar.TarArchive.doUnpack(TarArchive.java:110)&lt;br/&gt;
        at org.apache.commons.compress.AbstractArchive.unpack(AbstractArchive.java:122)&lt;br/&gt;
        at bb.io.TarUtil.extract(TarUtil.java:558)&lt;br/&gt;
        at bb.io.TarUtil$Test.test_archive_extract_pathLengthLimit(TarUtil.java:725)&lt;br/&gt;
        at bb.io.TarUtil$Test.main(TarUtil.java:598)&lt;br/&gt;
Caused by: java.io.FileNotFoundException: F:\longPaths\2B6vLVrp4c (The system cannot find the path specified)&lt;br/&gt;
        at java.io.FileOutputStream.open(Native Method)&lt;br/&gt;
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:179)&lt;br/&gt;
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:131)&lt;br/&gt;
        at org.apache.commons.compress.archivers.tar.TarArchive.doUnpack(TarArchive.java:97)&lt;br/&gt;
        ... 4 more&lt;/p&gt;


&lt;p&gt;--------------------------------------------------&lt;br/&gt;
Details of how the TAR archive was extracted&lt;br/&gt;
--------------------------------------------------&lt;/p&gt;

&lt;p&gt;The code that I used to do the extraction is&lt;br/&gt;
		TarArchive archive = null;&lt;br/&gt;
		try &lt;/p&gt;
{
			Archive archiver = ArchiverFactory.getInstance(tarFile);
			archiver.unpack(directoryToExtractInto);
		}
&lt;p&gt;		finally &lt;/p&gt;
{
			close(archive);
		}
&lt;p&gt;Here, unlike archiving, I went ahead and used the convenient Archiver functionality because no low level control was needed.&lt;/p&gt;

&lt;p&gt;Also, the original target directory being archived is named longPaths and, as its name indicates, it has all kinds of super long path elements inside it.  (I wrote a program to auto generate really long subdirectory structures like this for torture testing my archiving programs.)&lt;/p&gt;


&lt;p&gt;--------------------------------------------------&lt;br/&gt;
Where the bug lies&lt;br/&gt;
--------------------------------------------------&lt;/p&gt;

&lt;p&gt;I THINK THAT THE PROBLEM WITH THE ORG.APACHE.COMMONS.COMPRESS EXTRACTION CODE IS THE FACT THAT IT EXTRACTS DIRECTORIES AS NORMAL FILES.&lt;/p&gt;

&lt;p&gt;I say this because there is a normal file left on my filesystem after doing the above that is named longPaths.  But longPaths should be a directory; since it was actually miscreated by the apache code as a file, then of course the subdirectory&lt;br/&gt;
	longPaths\2B6vLVrp4c&lt;br/&gt;
cannot be created as reported by the stacktrace above.&lt;/p&gt;

&lt;p&gt;Again, let me mention that 7-zip did sucessfully completely extract the complicated contents of longPaths, correctly recreating all of the subdirectories etc, so I do not suspect that my code for creating the TAR archive is wrong.&lt;/p&gt;

&lt;p&gt;Furthermore, when I tried abandoning the above TAR creation code and used your Archiver technique with code like&lt;br/&gt;
	Archive archiver = ArchiverFactory.getInstance(&quot;tar&quot;);&lt;br/&gt;
	for (File file : files) &lt;/p&gt;
{
		archive(file, archiver, filter);
	}
&lt;p&gt;	archiver.save(tarFile);&lt;/p&gt;

&lt;p&gt;		// this is the relevant code snippet from the archive method:&lt;br/&gt;
	archiver.add( file );&lt;/p&gt;

&lt;p&gt;	if ( file.isDirectory() ) {&lt;br/&gt;
		for (File fileChild : DirUtil.getContents(file, null)) &lt;/p&gt;
{
			archive( fileChild, archiver, filter );
		}
&lt;p&gt;	}&lt;br/&gt;
then I still get an error:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.io.FileNotFoundException: Z:\longPaths (Access is denied)&lt;br/&gt;
        at java.io.FileInputStream.open(Native Method)&lt;br/&gt;
        at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:106)&lt;br/&gt;
        at org.apache.commons.compress.AbstractArchive.add(AbstractArchive.java:90)&lt;br/&gt;
        at bb.io.TarUtil.archive(TarUtil.java:412)&lt;br/&gt;
        at bb.io.TarUtil.archive(TarUtil.java:339)&lt;br/&gt;
        at bb.io.TarUtil$Test.test_archive_extract_pathLengthLimit(TarUtil.java:711)&lt;br/&gt;
        at bb.io.TarUtil$Test.main(TarUtil.java:594)&lt;/p&gt;


&lt;p&gt;--------------------------------------------------&lt;br/&gt;
Misc issues&lt;br/&gt;
--------------------------------------------------&lt;/p&gt;

&lt;p&gt;1) I am sorry if this is a known issue that has been beaten to death on the mailing list.  But I am a newcomer, and I was unable to figure out how to search the mailing list archives!&lt;/p&gt;

&lt;p&gt;Clicking on the &quot;Search the mailing list archive&quot; link on&lt;br/&gt;
	&lt;a href=&quot;http://jakarta.apache.org/commons/sandbox/compress/issue-tracking.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/sandbox/compress/issue-tracking.html&lt;/a&gt;&lt;br/&gt;
brought me to&lt;br/&gt;
	&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/jakarta-commons-dev/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/jakarta-commons-dev/&lt;/a&gt;&lt;br/&gt;
which only seems to offer manual browsing, which is a tedious and inefficient way to find issues with the compress code, especially as the mailing list seems to discuss every commons project.&lt;/p&gt;

&lt;p&gt;Is there a better way?&lt;/p&gt;


&lt;p&gt;2) there seem to be redundant TAR packages:&lt;br/&gt;
	older one?:&lt;br/&gt;
		&lt;a href=&quot;http://svn.apache.org/viewvc/jakarta/commons/sandbox/compress/trunk/src/java/org/apache/commons/compress/tar/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/jakarta/commons/sandbox/compress/trunk/src/java/org/apache/commons/compress/tar/&lt;/a&gt;&lt;br/&gt;
	newer one?:&lt;br/&gt;
		&lt;a href=&quot;http://svn.apache.org/viewvc/jakarta/commons/sandbox/compress/trunk/src/java/org/apache/commons/compress/archivers/tar/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/jakarta/commons/sandbox/compress/trunk/src/java/org/apache/commons/compress/archivers/tar/&lt;/a&gt;&lt;br/&gt;
Which one am I supposed to use?&lt;/p&gt;


&lt;p&gt;3) GNU tar apparently supports unlimited path lengths, but what about file sizes?  Traditional TAR only support files up to 8 GB in size.  Does the org.apache.commons.compress TAR code have any file size limits?  Please add documentation about this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Probably irrelevant, but am using JDK 1.5.0_07 on a win xp sp2 box.&lt;/p&gt;</environment>
        <key id="12347957">COMPRESS-8</key>
            <summary>TAR extraction fails with FileNotFoundException (directories not being created)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="bbatman">Sam Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2006 02:50:41 +0000</created>
                <updated>Thu, 2 May 2013 02:29:19 +0000</updated>
                            <resolved>Mon, 12 Jan 2009 11:18:28 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12661576" author="tcurdt" created="Wed, 7 Jan 2009 13:56:07 +0000"  >&lt;p&gt;I guess this is probably obsolete?&lt;/p&gt;</comment>
                            <comment id="12661583" author="cgrobmeier" created="Wed, 7 Jan 2009 14:09:25 +0000"  >&lt;p&gt;I am not sure if obsolete with new trunk (I was yesterday &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).&lt;br/&gt;
However, the trunk with the patch provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/SANDBOX-273&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SANDBOX-273&lt;/a&gt; should fix all problems described here.&lt;/p&gt;

&lt;p&gt;After 273 is fixed, this one can be closed too.&lt;/p&gt;</comment>
                            <comment id="12661886" author="cgrobmeier" created="Thu, 8 Jan 2009 08:15:40 +0000"  >&lt;p&gt;Should be fixed with the patch of 273&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12411930">COMPRESS-24</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Jan 2009 13:56:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b45r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-7] Creating TAR archive of an 8 GB file causes IOException</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-7</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Yesterday I reported a bug with extraction of TAR archives:&lt;br/&gt;
	&lt;a href=&quot;https://issues.apache.org/jira/browse/SANDBOX-168&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SANDBOX-168&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Today I found that when I tried to creat a TAR archive of a file that is exactly 8 GB, that is,&lt;br/&gt;
	(8L * 1024L * 1024L * 1024L) - 1&lt;br/&gt;
that it failed with the following strange error:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.io.IOException: request to write &apos;32768&apos; bytes exceeds size in header of &apos;-1&apos; bytes&lt;br/&gt;
        at org.apache.commons.compress.archivers.tar.TarOutputStream.write(TarOutputStream.java:341)&lt;br/&gt;
        at bb.io.StreamUtil.transfer(StreamUtil.java:312)&lt;br/&gt;
        at bb.io.StreamUtil.transfer(StreamUtil.java:290)&lt;br/&gt;
        at bb.io.TarUtil.writeFileData(TarUtil.java:404)&lt;br/&gt;
        at bb.io.TarUtil.archive(TarUtil.java:382)&lt;br/&gt;
        at bb.io.TarUtil.archive(TarUtil.java:334)&lt;br/&gt;
        at bb.io.TarUtil$Test.test_archive_extract_fileLengthLimit(TarUtil.java:610)&lt;br/&gt;
        at bb.io.TarUtil$Test.main(TarUtil.java:542)&lt;/p&gt;

&lt;p&gt;The code that I used to try and create the TAR archive was the same described in that previous bug report, so I will not repeat it here.&lt;/p&gt;

&lt;p&gt;I was doing this in an attempt to discern if the org.apache.commons.compress TAR code has any file size limits, since classic TAR is limited to 8 BG files but org.apache.commons.compress supports GNU TAR long path names, so maybe it has no file size limits either.  (There appears to be no documentation about this in the TAR code.)&lt;/p&gt;

&lt;p&gt;What is strange is that the code first DID apparently succeed in TARing a 10 GB file, albeit, when I tried to see if a third party piece of software (7-zip) would extract it, that program objected saying that it did not support the TAR format type encpuntered in the file.&lt;/p&gt;

&lt;p&gt;Since I need to use a file size limit that is consistent with other programs, I then tried to TAR a file of exactly 8 GB in size.  This is when I encountered the above error.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Win xp pro sp2; JDK 1.5.0_07&lt;/p&gt;</environment>
        <key id="12348010">COMPRESS-7</key>
            <summary>Creating TAR archive of an 8 GB file causes IOException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bbatman">Sam Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2006 15:27:06 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:27 +0000</updated>
                            <resolved>Sat, 21 Jun 2008 17:57:00 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12490427" author="jcrump" created="Fri, 20 Apr 2007 18:52:45 +0000"  >&lt;p&gt;I was faced with a similar issue today.   While the entry size is a long, the write() method takes an int &amp;#8211; and if you get too big, you overflow.  Here is the exception I got when trying to write 9GB entry&lt;/p&gt;

&lt;p&gt;java.io.IOException request to write &apos;8192&apos; bytes exceeds size in header of &apos;1390354048&apos; bytes&lt;br/&gt;
    at org.apache.commons.compress.tar.TarOutputStream.write(TarOutputStream.java:-3)&lt;br/&gt;
    at java.nio.channels.Channels$WritableByteChannelImpl.write(Channels.java:-3)&lt;br/&gt;
    at org.archivas.io.TransferSupport.writeBuffer(TransferSupport.java:-3)&lt;br/&gt;
    at org.archivas.io.TransferSupport.writeChunk(TransferSupport.java:-4)&lt;/p&gt;

&lt;p&gt;It looks like the Ant folks have taken care of this already? &lt;br/&gt;
&lt;a href=&quot;http://www.cenqua.com/fisheye/demo/browse/ant/src/main/org/apache/tools/tar/TarOutputStream.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.cenqua.com/fisheye/demo/browse/ant/src/main/org/apache/tools/tar/TarOutputStream.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Why is the m_size field a long, but the write() API take an int?&lt;/p&gt;
</comment>
                            <comment id="12607024" author="ebourg" created="Sat, 21 Jun 2008 17:57:00 +0000"  >&lt;p&gt;Fixed, TarOutputStream now uses long values internally.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Apr 2007 18:52:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b45z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62787</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-6] [compress] TarOutputStream.java long file name bug (and fix!)</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-6</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;&apos;LongLink&apos; entries written to a tar file header by&lt;br/&gt;
TarOutputStream.putNextEntry() specify the wrong file name length and data,&lt;br/&gt;
preventing GNU tar from properly reading long file name entries (in the current&lt;br/&gt;
GNU &apos;tar&apos; implementation, sometimes one gets lucky and the entry happens to be&lt;br/&gt;
null-terminated so it works anyway).  In particular, the file name&lt;br/&gt;
length-&lt;del&gt;stored as an octal string in each header entry&lt;/del&gt;-should include an extra&lt;br/&gt;
byte for the null terminator that must also be written at the end of the file&lt;br/&gt;
name in the header.&lt;/p&gt;

&lt;p&gt;Here&apos;s what the code in&lt;br/&gt;
org.apache.commons.compress.tar.TarOutputStream.putNextEntry() currently looks&lt;br/&gt;
like (starting around line 424):&lt;/p&gt;

&lt;p&gt;if( m_longFileMode == LONGFILE_GNU ) {&lt;br/&gt;
// create a TarEntry for the LongLink, the contents&lt;br/&gt;
// of which are the entry&apos;s name&lt;br/&gt;
  final TarEntry longLinkEntry =&lt;br/&gt;
       new TarEntry( TarConstants.GNU_LONGLINK,&lt;br/&gt;
                     TarConstants.LF_GNUTYPE_LONGNAME );&lt;/p&gt;

&lt;p&gt;  longLinkEntry.setSize( entry.getName().length() );&lt;br/&gt;
  putNextEntry( longLinkEntry );&lt;br/&gt;
  write( entry.getName().getBytes() );&lt;br/&gt;
  //write( 0 );&lt;br/&gt;
  closeEntry();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Here&apos;s what the code should have been:&lt;/p&gt;

&lt;p&gt;if( m_longFileMode == LONGFILE_GNU ) {&lt;br/&gt;
// create a TarEntry for the LongLink, the contents&lt;br/&gt;
// of which are the entry&apos;s name&lt;br/&gt;
  final TarEntry longLinkEntry =&lt;br/&gt;
       new TarEntry( TarConstants.GNU_LONGLINK,&lt;br/&gt;
                     TarConstants.LF_GNUTYPE_LONGNAME );&lt;/p&gt;

&lt;p&gt;  longLinkEntry.setSize( entry.getName().length() + 1 );&lt;br/&gt;
  putNextEntry( longLinkEntry );&lt;br/&gt;
  write( entry.getName().getBytes() );&lt;br/&gt;
  write( 0 );&lt;br/&gt;
  closeEntry();&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341616">COMPRESS-6</key>
            <summary>[compress] TarOutputStream.java long file name bug (and fix!)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="dyamasak@aol.com">Derc Yamasaki</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Aug 2004 00:10:20 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:26 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 12:54:10 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12661467" author="cgrobmeier" created="Wed, 7 Jan 2009 07:08:04 +0000"  >&lt;p&gt;According to:&lt;br/&gt;
&lt;a href=&quot;http://www.gnu.org/software/tar/manual/html_section/Standard.html#SEC166&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.gnu.org/software/tar/manual/html_section/Standard.html#SEC166&lt;/a&gt;&lt;br/&gt;
&quot;The name, linkname, magic, uname, and gname are null-terminated character strings. All other fields are zero-filled octal numbers in ASCII. Each numeric field of width w contains w minus 1 digits, and a null. &quot;&lt;/p&gt;

&lt;p&gt;TarArchiveEntry.NAMELEN should not be 100, it should be 99 as Derc pointed out.&lt;br/&gt;
See also:&lt;br/&gt;
&lt;a href=&quot;http://www.gnu.org/software/tar/manual/html_section/Formats.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.gnu.org/software/tar/manual/html_section/Formats.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Format V7: &quot;The maximum length of a file name is limited to 99 characters. &quot;&lt;/p&gt;</comment>
                            <comment id="12661469" author="cgrobmeier" created="Wed, 7 Jan 2009 07:20:49 +0000"  >&lt;p&gt;Long Filename Patch.&lt;/p&gt;

&lt;p&gt;Includes a testcase. Reduces the allowed char number to 99, write a 0 terminator after a filename&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397273" name="patch-longfilename.txt" size="6138" author="cgrobmeier" created="Wed, 7 Jan 2009 07:20:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Jan 2009 07:08:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b467:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-5] Compress - ZipArchive - unpack() : IOException while unpacking due to missing directories</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-5</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;In the current snapshot of the ZipArchive class of commons compress seems to be an OS/VM-related problem with the unpack() method of ZipArchive.&lt;br/&gt;
I got an IOException using unpack() for a simple jar-archive.&lt;br/&gt;
I figured out that the files from the ZipEntries couldn&apos;t be created because of missing parent directories.&lt;br/&gt;
I fixed the problem by including the usage of the forceMkdir() of the commons-io FileUtils class in the unpack() method. In case you want to use my fix:&lt;/p&gt;

&lt;p&gt;  // ... for every entry&lt;br/&gt;
  File outFile = new File(fosString);&lt;br/&gt;
  if (outFile.getParentFile() != null &amp;amp;&amp;amp; !outFile.getParentFile().exists()) &lt;/p&gt;
{
    FileUtils.forceMkdir(outFile.getParentFile());
  }
&lt;p&gt;	&lt;br/&gt;
  FileOutputStream fos = new FileOutputStream(outFile);	&lt;br/&gt;
  // ... write to filestream &lt;/p&gt;

&lt;p&gt;best regards,&lt;br/&gt;
chris&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Linux&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0-b105)&lt;/p&gt;</environment>
        <key id="12373310">COMPRESS-5</key>
            <summary>Compress - ZipArchive - unpack() : IOException while unpacking due to missing directories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="cscheid">Christian Scheid</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jul 2007 14:23:53 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:26 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 13:40:18 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12597728" author="evalentim" created="Sat, 17 May 2008 12:46:06 +0000"  >&lt;p&gt;I have the same issue and fixed the problem in a similar way:&lt;/p&gt;

&lt;p&gt;Index: Compress/src/java/org/apache/commons/compress/archivers/zip/ZipArchive.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; Compress/src/java/org/apache/commons/compress/archivers/zip/ZipArchive.java	(revision 657025)&lt;br/&gt;
+++ Compress/src/java/org/apache/commons/compress/archivers/zip/ZipArchive.java	(working copy)&lt;br/&gt;
@@ -87,6 +87,15 @@&lt;br/&gt;
 				byte data[] = new byte&lt;span class=&quot;error&quot;&gt;&amp;#91;BUFFER&amp;#93;&lt;/span&gt;;&lt;/p&gt;

&lt;p&gt; 				String fosString = unpackDir.getAbsolutePath() + File.separator + entry.getName();&lt;br/&gt;
+				&lt;br/&gt;
+				// The first files in zip format are directories, &lt;br/&gt;
+				// then we need to create it &lt;br/&gt;
+				if (entry.isDirectory()) &lt;/p&gt;
{
+					File fosFile = new File(fosString);
+					fosFile.mkdirs();
+					continue;
+				}
&lt;p&gt;+&lt;br/&gt;
 				FileOutputStream fos = new FileOutputStream(fosString);&lt;br/&gt;
 				destination = new BufferedOutputStream(fos, BUFFER);&lt;/p&gt;
</comment>
                            <comment id="12661472" author="cgrobmeier" created="Wed, 7 Jan 2009 07:29:01 +0000"  >&lt;p&gt;This issue shouldn&apos;t occure with the new codebase currently in the trunk. The new codebase isn&apos;t filebased anymore but streambased. This means, there is no unpack() method anymore.&lt;/p&gt;

&lt;p&gt;Since the file-based branch isn&apos;t beeing developed anymore, this issue can be closed as &quot;won&apos;t fixed&quot;. If the error occurs again a new issue should be opened. &lt;/p&gt;</comment>
                            <comment id="12661566" author="tcurdt" created="Wed, 7 Jan 2009 13:40:18 +0000"  >&lt;p&gt;trunk is stream based now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 17 May 2008 12:46:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uo73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-4] Each method in the Archive interface should throw ArchiveException to remain consistent with Compressor interface</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-4</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Every method in the Compressor interface throws a CompressException however not all of the methods within the Archive interface throw ArchiveException. When a developer (such as myself) is implementing my own Archive implementations (7zip and Rar for example) there are error scenarios in some of my concrete method implementation where I would like to throw an ArchiveException but can not. &lt;/p&gt;

&lt;p&gt;It is suggested to add a &quot;throws ArchiveException&quot; clause for each of the method signatures in the Archive interface.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12405192">COMPRESS-4</key>
            <summary>Each method in the Archive interface should throw ArchiveException to remain consistent with Compressor interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tjpinet">Tim Pinet</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Sep 2008 01:24:37 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:26 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 13:16:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="36000">10h</timeoriginalestimate>
                            <timeestimate seconds="36000">10h</timeestimate>
                                        <comments>
                            <comment id="12634727" author="tjpinet" created="Fri, 26 Sep 2008 01:26:50 +0000"  >&lt;p&gt;This is the suggested patch for the Archive class. The org.apache.commons.compress.AbstractArchive class would need to update its method signatures as well. I have implemented this fix in my own working copy and it is functioning properly.&lt;/p&gt;</comment>
                            <comment id="12634849" author="tjpinet" created="Fri, 26 Sep 2008 13:16:52 +0000"  >&lt;p&gt;The issues that I posted pertain to the current trunk. I was just informed of the new &apos;redesign&apos; branch. I will close this issue and investigate the new branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12390987" name="Archive.patch" size="1875" author="tjpinet" created="Fri, 26 Sep 2008 01:26:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110537</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uo7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-3] COMPRESS-REDESIGN: Handle JarArchiveInputStream null getNextEntry() gracefully</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-3</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;When the method JarArchiveInputStream.getNextEntry() is called after the final archive entry was already returned, an Exception is thrown. This is due to the request to the super class ZipArchiveInputStream.getNextEntry() returning null which denotes the archive is at the end. However that null is used to attempt to try to create a new JarArchiveEntry(null) instance. It is here where the exception is thrown. I suggest doing a quick null check then return null if the archive has been fully traversed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12405301">COMPRESS-3</key>
            <summary>COMPRESS-REDESIGN: Handle JarArchiveInputStream null getNextEntry() gracefully</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="tjpinet">Tim Pinet</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Sep 2008 19:30:07 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:26 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 13:49:08 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="36000">10h</timeoriginalestimate>
                            <timeestimate seconds="36000">10h</timeestimate>
                                        <comments>
                            <comment id="12635188" author="tjpinet" created="Sat, 27 Sep 2008 19:31:28 +0000"  >&lt;p&gt;JarArchiveInputStream.patch: recommended fix for JarArchiveInputStream.getNextEntry() to return null instead of throwing an Exception at the end of an archive.&lt;/p&gt;</comment>
                            <comment id="12635189" author="tjpinet" created="Sat, 27 Sep 2008 19:33:26 +0000"  >&lt;p&gt;JarTestCase.patch: test case to traverse a Jar file to the end of the archive and ensure that no Exception is thrown. Note: this patch contains code from bug &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-22&quot; title=&quot;COMPRESS-REDESIGN: ArchiveEntry should force an isDirectory() method on implementations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-22&quot;&gt;&lt;del&gt;SANDBOX-258&lt;/del&gt;&lt;/a&gt; which uses a call to ArchiveEntry.isDirectory().&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12391094" name="JarArchiveInputStream.patch" size="604" author="tjpinet" created="Sat, 27 Sep 2008 19:31:28 +0000"/>
                            <attachment id="12391095" name="JarTestCase.patch" size="1005" author="tjpinet" created="Sat, 27 Sep 2008 19:33:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b46f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-2] BZip2CompressorInputStream doesn&apos;t work if wrapped into InputStreamReader</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-2</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The BZip2CompressorInputStream doesn&apos;t work if wrapped into InputStreamReader because it doesn&apos;t implement &quot;public int available()&quot; from InputStream.&lt;/p&gt;

&lt;p&gt;Adding the following method to BZip2CompressorInputStream fixes the problem:&lt;/p&gt;

&lt;p&gt;    public int available() throws IOException &lt;/p&gt;
{
        return(in.available());
    }
</description>
                <environment>&lt;p&gt;Unix&lt;/p&gt;</environment>
        <key id="12414592">COMPRESS-2</key>
            <summary>BZip2CompressorInputStream doesn&apos;t work if wrapped into InputStreamReader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="irockel">Ingo Rockel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2009 17:38:31 +0000</created>
                <updated>Mon, 13 Apr 2009 18:04:27 +0000</updated>
                            <resolved>Mon, 13 Apr 2009 18:04:27 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12672945" author="bodewig" created="Thu, 12 Feb 2009 10:40:23 +0000"  >&lt;p&gt;But such an implementation would lie, wouldn&apos;t it?&lt;/p&gt;

&lt;p&gt;The number of bytes you can read after running through decompression is most probably different from the original count.&lt;/p&gt;

&lt;p&gt;Given that the bzip2 format works on blocks it is quite possible that trying to read a single byte may block on the compressed stream because it needs more than a single byte from the original stream to complete a block of input.&lt;/p&gt;</comment>
                            <comment id="12672959" author="irockel" created="Thu, 12 Feb 2009 12:00:35 +0000"  >&lt;p&gt;ok, I assumed that reading from the inner input stream always is at least of the size the outer stream will be able to read (because of compresson) and that fits perfectly into the contract of the available method, because it should only report how much is at least available and it needs not to be more reliable.&lt;/p&gt;</comment>
                            <comment id="12675966" author="bodewig" created="Mon, 23 Feb 2009 16:37:09 +0000"  >&lt;p&gt;No, bzip2 really is block oriented, so it may require reading more data than is actually available from the underlying stream.&lt;/p&gt;</comment>
                            <comment id="12676219" author="irockel" created="Tue, 24 Feb 2009 08:56:42 +0000"  >&lt;p&gt;my fix may be invalid, but the bug still is there, so reopen&lt;/p&gt;</comment>
                            <comment id="12676226" author="jukkaz" created="Tue, 24 Feb 2009 09:27:14 +0000"  >&lt;p&gt;What do you mean by &quot;doesn&apos;t work&quot;? Are you unable to read anything from the InputStreamReader that wraps the bzip2 stream?&lt;/p&gt;

&lt;p&gt;A test case that illustrates the problem would be helpful.&lt;/p&gt;</comment>
                            <comment id="12676228" author="irockel" created="Tue, 24 Feb 2009 09:34:19 +0000"  >&lt;p&gt;The Testcase looks like this:&lt;/p&gt;

&lt;p&gt;        CompressorInputStream in = new CompressorStreamFactory().createCompressorInputStream(&quot;bzip2&quot;, new FileInputStream(&quot;test.bz2&quot;));&lt;br/&gt;
        BufferedReader reader = new BufferedReader(new InputStreamReader(in));&lt;/p&gt;

&lt;p&gt;        String testString = null;&lt;br/&gt;
        while(reader.ready()) &lt;/p&gt;
{
              testString = reader.readLine();
        }
&lt;p&gt;        reader.close();&lt;/p&gt;

&lt;p&gt;This code simply reads anything, because InputStreamReader calls &quot;available()&quot; on the underlying stream before reading data and the BZip2CompressorInputStream doesn&apos;t implement it, it only has the default method from InputStream, which returns &quot;0&quot;.&lt;/p&gt;

&lt;p&gt;My hack works fine for me here, but because of the block orientation of the stream simply calling super.available() might fail in some cases.&lt;/p&gt;</comment>
                            <comment id="12676230" author="jukkaz" created="Tue, 24 Feb 2009 10:03:15 +0000"  >&lt;p&gt;I don&apos;t see why you need to call the ready() method, especially since readLine() may block regardless of what ready() says. Why not the following?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; testString = reader.readLine();
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (testString != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    processLine(testString);
    testString = reader.readLine();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It would be nice to support non-blocking reads from compressed streams, but that&apos;s more of a new feature than a bug.&lt;/p&gt;</comment>
                            <comment id="12698467" author="cgrobmeier" created="Mon, 13 Apr 2009 18:04:27 +0000"  >&lt;p&gt;According discussion:&lt;br/&gt;
&lt;a href=&quot;http://www.mail-archive.com/dev@commons.apache.org/msg08920.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/dev@commons.apache.org/msg08920.html&lt;/a&gt;&lt;br/&gt;
and the solution proposed from Jukka i put this to &quot;won&apos;t fix&quot;.&lt;/p&gt;

&lt;p&gt;Before reopening this issue, please start a discussion on the dev mailinglist.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Feb 2009 10:40:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tgw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[COMPRESS-1] ArArchiveInputStream doesn&apos;t make use of internal offset</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-1</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;When entering the ArchiveInputStream, the header will be investigated. If offset = 0, then for &amp;lt;arch&amp;gt; will be searched with a read method from InputStream. The offset var will not be updated of course and stays 0. Next time an invalid header exception is thrown.&lt;/p&gt;

&lt;p&gt;Solution: all read operations must update the offset field in ArchiveInputStream&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411993">COMPRESS-1</key>
            <summary>ArArchiveInputStream doesn&apos;t make use of internal offset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="cgrobmeier">Christian Grobmeier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jan 2009 05:57:44 +0000</created>
                <updated>Mon, 23 Mar 2009 22:18:26 +0000</updated>
                            <resolved>Fri, 9 Jan 2009 09:32:26 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12662252" author="cgrobmeier" created="Fri, 9 Jan 2009 05:58:23 +0000"  >&lt;p&gt;This patch should fix the offset trouble &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397481" name="patch-ar-offset.txt" size="1498" author="cgrobmeier" created="Fri, 9 Jan 2009 05:58:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49552</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b46n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>