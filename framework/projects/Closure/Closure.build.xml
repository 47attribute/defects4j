<project name="D4J-Closure">
    <!-- Compile with debugging information enabled -->
    <property name="javac.debug" value="true" />

    <!-- Dummy paths, in case not defined in project build file -->
    <path id="allclasspath.path" />
    <path id="srcclasspath.path" />
    <path id="classpath.path" />

    <!-- Include existing project build file -->
    <import file="${d4j.workdir}/build.xml" />

    <!-- relevant classpaths from different build revisions -->
    <path id="test.classpath">
        <path refid="allclasspath.path" />
        <path refid="classpath.path" />
        <pathelement path="${build.dir}/test" />
    </path>
    <path id="compile.classpath">
        <path refid="srcclasspath.path" />
        <path refid="classpath.path" />
    </path>
    <!-- Values necessary for mutation scripting to work -->
    <property name="test.home" value="${testClasses.dir}" />
    <property name="build.home" value="${build.dir}" />

    <!-- property needs to be set for coverage to work -->
    <property name="cobertura.aux.classpath" value="${d4j.workdir}/lib/guava.jar" />

    <target name="compile.tests" depends="compile-tests" />

    <!-- We need to compile rhino.testing package before we can
         compile the generated test suites => Override the compile.gen.tests target -->
    <target name="compile.gen.tests" depends="compile-tests">
        <!-- Call overridden target -->
        <antcall target="Defects4J.compile.gen.tests" />
    </target>

    <!-- List of all devloper-written tests that reliably pass on the fixed version -->
    <fileset id="all.manual.tests" dir="${build.dir}/test" excludes="${d4j.tests.exclude}">
        <include name="**/*Test.class" />
    </fileset>

    <!-- Classpath to run developer-written tests -->
    <path id="d4j.test.classpath">
        <path refid="compile.classpath" />
        <path refid="test.classpath" />
    </path>
</project>
